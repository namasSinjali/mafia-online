import{R as jl}from"../chunks/control.CYgJF_JY.js";import{n as ce,S as Ol,s as ue,o as oe,i as $,d as h,N as $e,m as Ae,z as q,A as fe,w as Me,e as G,g as F,h as x,a7 as Te,aa as lt,B as ke,C as ve,D as ye,E as Ce,ab as $l,ac as Vl,f as L,j as U,H as Ze,r as bl,F as ct,a8 as ft,a9 as Nt,b as kl,u as J,k as R,t as Q,c as X,l as pe,v as Et,M as nt,Q as We,G as De,a6 as Dl}from"../chunks/scheduler.zuZb1wMF.js";import{n as Hl,l as ql,h as Bl,j as Ll,S as de,i as me,g as ne,b as _,e as re,t as d,c as P,a as w,m as S,d as N,f as ut,k as Ye,o as rt}from"../chunks/index.CKmR45sX.js";import{s as Tt}from"../chunks/supabaseClient.DFIE01JV.js";import{I as ze,e as he,u as He,f as qe}from"../chunks/Icon.BIeEqg-_.js";import{m as xe,o as vl,d as Ke,e as yl,b as et,k as tt,s as Ul,c as Gl,g as be,a as Se,f as Ie,h as Cl,i as dt,q as Fl,B as Re}from"../chunks/index.tS2V8_3s.js";import{t as mt,o as Pl,f as _t,r as gt,g as ht,h as wl,C as pt,a as $t,b as bt,c as kt,d as vt,e as yt,L as Sl,R as Kl,T as Wl,P as Yl,I as Jl}from"../chunks/index.L6AGsEHt.js";import{w as Nl}from"../chunks/index.BVtl-uly.js";import{a as Pe}from"../chunks/Toaster.svelte_svelte_type_style_lang.BQVx5dwk.js";function Be(o,e,t,l){if(!e)return ce;const n=o.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return ce;const{delay:r=0,duration:s=300,easing:i=Ol,start:a=Hl()+r,end:f=a+s,tick:c=ce,css:u}=t(o,{from:e,to:n},l);let m=!0,g=!1,b;function v(){u&&(b=Bl(o,0,1,s,r,i,u)),r||(g=!0)}function k(){u&&Ll(o,b),m=!1}return ql(I=>{if(!g&&I>=a&&(g=!0),g&&I>=f&&(c(1,0),k()),!m)return!1;if(g){const y=I-a,ee=0+1*i(y/s);c(ee,1-ee)}return!0}),v(),c(0,1),k}function Le(o){const e=getComputedStyle(o);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,n=o.getBoundingClientRect();o.style.position="absolute",o.style.width=t,o.style.height=l,Je(o,n)}}function Je(o,e){const t=o.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(o),n=l.transform==="none"?"":l.transform;o.style.transform=`${n} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}const Ql={orientation:"horizontal",decorative:!1},Xl=o=>{const e={...Ql,...o},t=mt(e),{orientation:l,decorative:n}=t;return{elements:{root:xe("separator",{stores:[l,n],returned:([s,i])=>({role:i?"none":"separator","aria-orientation":s==="vertical"?s:void 0,"aria-hidden":i,"data-orientation":s})})},options:t}},Zl={defaultChecked:!1,disabled:!1,required:!1,name:"",value:""},{name:At}=Gl("switch");function xl(o){const e={...Zl,...o},t=mt(vl(e,"checked")),{disabled:l,required:n,name:r,value:s}=t,i=e.checked??Nl(e.defaultChecked),a=Pl(i,e==null?void 0:e.onCheckedChange);function f(){l.get()||a.update(m=>!m)}const c=xe(At(),{stores:[a,l,n],returned:([m,g,b])=>({"data-disabled":Ke(g),disabled:Ke(g),"data-state":m?"checked":"unchecked",type:"button",role:"switch","aria-checked":m?"true":"false","aria-required":b?"true":void 0}),action(m){return{destroy:yl(et(m,"click",()=>{f()}),et(m,"keydown",b=>{b.key!==tt.ENTER&&b.key!==tt.SPACE||(b.preventDefault(),f())}))}}}),u=xe(At("input"),{stores:[a,r,n,l,s],returned:([m,g,b,v,k])=>({type:"checkbox","aria-hidden":!0,hidden:!0,tabindex:-1,name:g,value:k,checked:m,required:b,disabled:Ke(v),style:Ul({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"})})});return{elements:{root:c,input:u},states:{checked:a},options:t}}const en={defaultPressed:!1,disabled:!1};function tn(o){const e={...en,...o},t=mt(vl(e,"pressed")),{disabled:l}=t,n=e.pressed??Nl(e.defaultPressed),r=Pl(n,e==null?void 0:e.onPressedChange);function s(){l.get()||r.update(f=>!f)}return{elements:{root:xe("toggle",{stores:[r,l],returned:([a,f])=>({"data-disabled":Ke(f),disabled:Ke(f),"data-state":a?"on":"off","aria-pressed":a,type:"button"}),action:a=>({destroy:yl(et(a,"click",()=>{s()}),et(a,"keydown",c=>{c.key!==tt.ENTER&&c.key!==tt.SPACE||(c.preventDefault(),s())}))})})},states:{pressed:r},options:t}}function ln(){return{NAME:"separator",PARTS:["root"]}}function nn(o){const{NAME:e,PARTS:t}=ln(),l=_t(e,t),n={...Xl(gt(o)),getAttrs:l};return{...n,updateOption:ht(n.options)}}const rn=o=>({builder:o&4}),It=o=>({builder:o[2]});function sn(o){let e,t,l,n=[o[2],o[4]],r={};for(let s=0;s<n.length;s+=1)r=q(r,n[s]);return{c(){e=G("div"),this.h()},l(s){e=F(s,"DIV",{}),x(e).forEach(h),this.h()},h(){Te(e,r)},m(s,i){$(s,e,i),o[10](e),t||(l=lt(o[2].action(e)),t=!0)},p(s,i){Te(e,r=be(n,[i&4&&s[2],i&16&&s[4]]))},i:ce,o:ce,d(s){s&&h(e),o[10](null),t=!1,l()}}}function on(o){let e;const t=o[9].default,l=ke(t,o,o[8],It);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&260)&&ve(l,t,n,n[8],e?Ce(t,n[8],r,rn):ye(n[8]),It)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function an(o){let e,t,l,n;const r=[on,sn],s=[];function i(a,f){return a[1]?0:1}return e=i(o),t=s[e]=r[e](o),{c(){t.c(),l=oe()},l(a){t.l(a),l=oe()},m(a,f){s[e].m(a,f),$(a,l,f),n=!0},p(a,[f]){let c=e;e=i(a),e===c?s[e].p(a,f):(ne(),_(s[c],1,1,()=>{s[c]=null}),re(),t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),d(t,1),t.m(l.parentNode,l))},i(a){n||(d(t),n=!0)},o(a){_(t),n=!1},d(a){a&&h(l),s[e].d(a)}}}function fn(o,e,t){let l;const n=["orientation","decorative","asChild","el"];let r=$e(e,n),s,{$$slots:i={},$$scope:a}=e,{orientation:f="horizontal"}=e,{decorative:c=!0}=e,{asChild:u=!1}=e,{el:m=void 0}=e;const{elements:{root:g},updateOption:b,getAttrs:v}=nn({orientation:f,decorative:c});Ae(o,g,y=>t(7,s=y));const k=v("root");function I(y){Me[y?"unshift":"push"](()=>{m=y,t(0,m)})}return o.$$set=y=>{e=q(q({},e),fe(y)),t(4,r=$e(e,n)),"orientation"in y&&t(5,f=y.orientation),"decorative"in y&&t(6,c=y.decorative),"asChild"in y&&t(1,u=y.asChild),"el"in y&&t(0,m=y.el),"$$scope"in y&&t(8,a=y.$$scope)},o.$$.update=()=>{o.$$.dirty&32&&b("orientation",f),o.$$.dirty&64&&b("decorative",c),o.$$.dirty&128&&t(2,l=s),o.$$.dirty&4&&Object.assign(l,k)},[m,u,l,g,r,f,c,s,a,i,I]}let cn=class extends de{constructor(e){super(),me(this,e,fn,an,ue,{orientation:5,decorative:6,asChild:1,el:0})}};function El(){return{NAME:"switch",PARTS:["root","input","thumb"]}}function un(o){const{NAME:e,PARTS:t}=El(),l=_t(e,t),n={...xl(gt(o)),getAttrs:l};return $l(e,n),{...n,updateOption:ht(n.options)}}function Tl(){const{NAME:o}=El();return Vl(o)}function dn(o){let e,t,l,n=[o[2],{name:o[3]},{disabled:o[4]},{required:o[5]},{value:o[1]},o[11]],r={};for(let s=0;s<n.length;s+=1)r=q(r,n[s]);return{c(){e=G("input"),this.h()},l(s){e=F(s,"INPUT",{name:!0}),this.h()},h(){Te(e,r)},m(s,i){$(s,e,i),"value"in r&&(e.value=r.value),e.autofocus&&e.focus(),o[13](e),t||(l=lt(o[2].action(e)),t=!0)},p(s,[i]){Te(e,r=be(n,[i&4&&s[2],i&8&&{name:s[3]},i&16&&{disabled:s[4]},i&32&&{required:s[5]},i&2&&e.value!==s[1]&&{value:s[1]},i&2048&&s[11]])),"value"in r&&(e.value=r.value)},i:ce,o:ce,d(s){s&&h(e),o[13](null),t=!1,l()}}}function mn(o,e,t){let l;const n=["el"];let r=$e(e,n),s,i,a,f,c,{el:u=void 0}=e;const{elements:{input:m},options:{value:g,name:b,disabled:v,required:k}}=Tl();Ae(o,m,y=>t(2,i=y)),Ae(o,g,y=>t(12,s=y)),Ae(o,b,y=>t(3,a=y)),Ae(o,v,y=>t(4,f=y)),Ae(o,k,y=>t(5,c=y));function I(y){Me[y?"unshift":"push"](()=>{u=y,t(0,u)})}return o.$$set=y=>{e=q(q({},e),fe(y)),t(11,r=$e(e,n)),"el"in y&&t(0,u=y.el)},o.$$.update=()=>{o.$$.dirty&4096&&t(1,l=s===void 0||s===""?"on":s)},[u,l,i,a,f,c,m,g,b,v,k,r,s,I]}class _n extends de{constructor(e){super(),me(this,e,mn,dn,ue,{el:0})}}const gn=o=>({builder:o&16}),Rt=o=>({builder:o[4]}),hn=o=>({builder:o&16}),Mt=o=>({builder:o[4]});function pn(o){let e,t,l,n;const r=o[17].default,s=ke(r,o,o[16],Rt);let i=[o[4],{type:"button"},o[7]],a={};for(let f=0;f<i.length;f+=1)a=q(a,i[f]);return{c(){e=G("button"),s&&s.c(),this.h()},l(f){e=F(f,"BUTTON",{type:!0});var c=x(e);s&&s.l(c),c.forEach(h),this.h()},h(){Te(e,a)},m(f,c){$(f,e,c),s&&s.m(e,null),e.autofocus&&e.focus(),o[18](e),t=!0,l||(n=[lt(o[4].action(e)),Ze(e,"m-click",o[6]),Ze(e,"m-keydown",o[6])],l=!0)},p(f,c){s&&s.p&&(!t||c&65552)&&ve(s,r,f,f[16],t?Ce(r,f[16],c,gn):ye(f[16]),Rt),Te(e,a=be(i,[c&16&&f[4],{type:"button"},c&128&&f[7]]))},i(f){t||(d(s,f),t=!0)},o(f){_(s,f),t=!1},d(f){f&&h(e),s&&s.d(f),o[18](null),l=!1,bl(n)}}}function $n(o){let e;const t=o[17].default,l=ke(t,o,o[16],Mt);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&65552)&&ve(l,t,n,n[16],e?Ce(t,n[16],r,hn):ye(n[16]),Mt)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function zt(o){let e,t;const l=[o[3]];let n={};for(let r=0;r<l.length;r+=1)n=q(n,l[r]);return e=new _n({props:n}),{c(){P(e.$$.fragment)},l(r){w(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p(r,s){const i=s&8?be(l,[Se(r[3])]):{};e.$set(i)},i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function bn(o){let e,t,l,n,r;const s=[$n,pn],i=[];function a(c,u){return c[2]?0:1}e=a(o),t=i[e]=s[e](o);let f=o[1]&&zt(o);return{c(){t.c(),l=L(),f&&f.c(),n=oe()},l(c){t.l(c),l=U(c),f&&f.l(c),n=oe()},m(c,u){i[e].m(c,u),$(c,l,u),f&&f.m(c,u),$(c,n,u),r=!0},p(c,[u]){let m=e;e=a(c),e===m?i[e].p(c,u):(ne(),_(i[m],1,1,()=>{i[m]=null}),re(),t=i[e],t?t.p(c,u):(t=i[e]=s[e](c),t.c()),d(t,1),t.m(l.parentNode,l)),c[1]?f?(f.p(c,u),u&2&&d(f,1)):(f=zt(c),f.c(),d(f,1),f.m(n.parentNode,n)):f&&(ne(),_(f,1,1,()=>{f=null}),re())},i(c){r||(d(t),d(f),r=!0)},o(c){_(t),_(f),r=!1},d(c){c&&(h(l),h(n)),i[e].d(c),f&&f.d(c)}}}function kn(o,e,t){let l,n;const r=["checked","onCheckedChange","disabled","name","value","includeInput","required","asChild","inputAttrs","el"];let s=$e(e,r),i,{$$slots:a={},$$scope:f}=e,{checked:c=void 0}=e,{onCheckedChange:u=void 0}=e,{disabled:m=void 0}=e,{name:g=void 0}=e,{value:b=void 0}=e,{includeInput:v=!0}=e,{required:k=void 0}=e,{asChild:I=!1}=e,{inputAttrs:y=void 0}=e,{el:ee=void 0}=e;const{elements:{root:se},states:{checked:z},updateOption:W,getAttrs:ae}=un({disabled:m,name:g,value:b,required:k,defaultChecked:c,onCheckedChange:({next:A})=>(c!==A&&(u==null||u(A),t(8,c=A)),A)});Ae(o,se,A=>t(15,i=A));const Z=wl();function Y(A){Me[A?"unshift":"push"](()=>{ee=A,t(0,ee)})}return o.$$set=A=>{e=q(q({},e),fe(A)),t(7,s=$e(e,r)),"checked"in A&&t(8,c=A.checked),"onCheckedChange"in A&&t(9,u=A.onCheckedChange),"disabled"in A&&t(10,m=A.disabled),"name"in A&&t(11,g=A.name),"value"in A&&t(12,b=A.value),"includeInput"in A&&t(1,v=A.includeInput),"required"in A&&t(13,k=A.required),"asChild"in A&&t(2,I=A.asChild),"inputAttrs"in A&&t(3,y=A.inputAttrs),"el"in A&&t(0,ee=A.el),"$$scope"in A&&t(16,f=A.$$scope)},o.$$.update=()=>{o.$$.dirty&256&&c!==void 0&&z.set(c),o.$$.dirty&1024&&W("disabled",m),o.$$.dirty&2048&&W("name",g),o.$$.dirty&4096&&W("value",b),o.$$.dirty&8192&&W("required",k),o.$$.dirty&32768&&t(4,l=i),o.$$.dirty&256&&t(14,n={...ae("root"),"data-checked":c?"":void 0}),o.$$.dirty&16400&&Object.assign(l,n)},[ee,v,I,y,l,se,Z,s,c,u,m,g,b,k,n,i,f,a,Y]}let vn=class extends de{constructor(e){super(),me(this,e,kn,bn,ue,{checked:8,onCheckedChange:9,disabled:10,name:11,value:12,includeInput:1,required:13,asChild:2,inputAttrs:3,el:0})}};const yn=o=>({attrs:o&8,checked:o&4}),jt=o=>({attrs:o[3],checked:o[2]});function Cn(o){let e,t=[o[5],o[3]],l={};for(let n=0;n<t.length;n+=1)l=q(l,t[n]);return{c(){e=G("span"),this.h()},l(n){e=F(n,"SPAN",{}),x(e).forEach(h),this.h()},h(){Te(e,l)},m(n,r){$(n,e,r),o[8](e)},p(n,r){Te(e,l=be(t,[r&32&&n[5],r&8&&n[3]]))},i:ce,o:ce,d(n){n&&h(e),o[8](null)}}}function Pn(o){let e;const t=o[7].default,l=ke(t,o,o[6],jt);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&76)&&ve(l,t,n,n[6],e?Ce(t,n[6],r,yn):ye(n[6]),jt)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function wn(o){let e,t,l,n;const r=[Pn,Cn],s=[];function i(a,f){return a[1]?0:1}return e=i(o),t=s[e]=r[e](o),{c(){t.c(),l=oe()},l(a){t.l(a),l=oe()},m(a,f){s[e].m(a,f),$(a,l,f),n=!0},p(a,[f]){let c=e;e=i(a),e===c?s[e].p(a,f):(ne(),_(s[c],1,1,()=>{s[c]=null}),re(),t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),d(t,1),t.m(l.parentNode,l))},i(a){n||(d(t),n=!0)},o(a){_(t),n=!1},d(a){a&&h(l),s[e].d(a)}}}function Sn(o,e,t){let l;const n=["asChild","el"];let r=$e(e,n),s,{$$slots:i={},$$scope:a}=e,{asChild:f=!1}=e,{el:c=void 0}=e;const{states:{checked:u},getAttrs:m}=Tl();Ae(o,u,b=>t(2,s=b));function g(b){Me[b?"unshift":"push"](()=>{c=b,t(0,c)})}return o.$$set=b=>{e=q(q({},e),fe(b)),t(5,r=$e(e,n)),"asChild"in b&&t(1,f=b.asChild),"el"in b&&t(0,c=b.el),"$$scope"in b&&t(6,a=b.$$scope)},o.$$.update=()=>{o.$$.dirty&4&&t(3,l={...m("thumb"),"data-state":s?"checked":"unchecked","data-checked":s?"":void 0})},[c,f,s,l,u,r,a,i,g]}class Nn extends de{constructor(e){super(),me(this,e,Sn,wn,ue,{asChild:1,el:0})}}function En(){return{NAME:"toggle",PARTS:["root","input"]}}function Tn(o){const{NAME:e,PARTS:t}=En(),l=_t(e,t),n={...tn(gt(o)),getAttrs:l};return $l(e,n),{...n,updateOption:ht(n.options)}}const An=o=>({builder:o&4}),Ot=o=>({builder:o[2]}),In=o=>({builder:o&4}),Vt=o=>({builder:o[2]});function Rn(o){let e,t,l,n;const r=o[11].default,s=ke(r,o,o[10],Ot);let i=[o[2],{type:"button"},o[5]],a={};for(let f=0;f<i.length;f+=1)a=q(a,i[f]);return{c(){e=G("button"),s&&s.c(),this.h()},l(f){e=F(f,"BUTTON",{type:!0});var c=x(e);s&&s.l(c),c.forEach(h),this.h()},h(){Te(e,a)},m(f,c){$(f,e,c),s&&s.m(e,null),e.autofocus&&e.focus(),o[12](e),t=!0,l||(n=[lt(o[2].action(e)),Ze(e,"m-click",o[4]),Ze(e,"m-keydown",o[4])],l=!0)},p(f,c){s&&s.p&&(!t||c&1028)&&ve(s,r,f,f[10],t?Ce(r,f[10],c,An):ye(f[10]),Ot),Te(e,a=be(i,[c&4&&f[2],{type:"button"},c&32&&f[5]]))},i(f){t||(d(s,f),t=!0)},o(f){_(s,f),t=!1},d(f){f&&h(e),s&&s.d(f),o[12](null),l=!1,bl(n)}}}function Mn(o){let e;const t=o[11].default,l=ke(t,o,o[10],Vt);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&1028)&&ve(l,t,n,n[10],e?Ce(t,n[10],r,In):ye(n[10]),Vt)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function zn(o){let e,t,l,n;const r=[Mn,Rn],s=[];function i(a,f){return a[1]?0:1}return e=i(o),t=s[e]=r[e](o),{c(){t.c(),l=oe()},l(a){t.l(a),l=oe()},m(a,f){s[e].m(a,f),$(a,l,f),n=!0},p(a,[f]){let c=e;e=i(a),e===c?s[e].p(a,f):(ne(),_(s[c],1,1,()=>{s[c]=null}),re(),t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),d(t,1),t.m(l.parentNode,l))},i(a){n||(d(t),n=!0)},o(a){_(t),n=!1},d(a){a&&h(l),s[e].d(a)}}}function jn(o,e,t){let l;const n=["disabled","pressed","onPressedChange","asChild","el"];let r=$e(e,n),s,{$$slots:i={},$$scope:a}=e,{disabled:f=void 0}=e,{pressed:c=void 0}=e,{onPressedChange:u=void 0}=e,{asChild:m=!1}=e,{el:g=void 0}=e;const{elements:{root:b},states:{pressed:v},updateOption:k,getAttrs:I}=Tn({disabled:f,defaultPressed:c,onPressedChange:({next:z})=>(c!==z&&(u==null||u(z),t(6,c=z)),z)});Ae(o,b,z=>t(9,s=z));const y=wl(),ee=I("root");function se(z){Me[z?"unshift":"push"](()=>{g=z,t(0,g)})}return o.$$set=z=>{e=q(q({},e),fe(z)),t(5,r=$e(e,n)),"disabled"in z&&t(7,f=z.disabled),"pressed"in z&&t(6,c=z.pressed),"onPressedChange"in z&&t(8,u=z.onPressedChange),"asChild"in z&&t(1,m=z.asChild),"el"in z&&t(0,g=z.el),"$$scope"in z&&t(10,a=z.$$scope)},o.$$.update=()=>{o.$$.dirty&64&&c!==void 0&&v.set(c),o.$$.dirty&128&&k("disabled",f),o.$$.dirty&512&&t(2,l=s),o.$$.dirty&4&&Object.assign(l,ee)},[g,m,l,b,y,r,c,f,u,s,a,i,se]}let On=class extends de{constructor(e){super(),me(this,e,jn,zn,ue,{disabled:7,pressed:6,onPressedChange:8,asChild:1,el:0})}};function Vn(o){let e;const t=o[2].default,l=ke(t,o,o[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8)&&ve(l,t,n,n[3],e?Ce(t,n[3],r,null):ye(n[3]),null)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function Dn(o){let e,t;const l=[{name:"briefcase-medical"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[Vn]},$$scope:{ctx:o}};for(let r=0;r<l.length;r+=1)n=q(n,l[r]);return e=new ze({props:n}),{c(){P(e.$$.fragment)},l(r){w(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p(r,[s]){const i=s&3?be(l,[l[0],s&2&&Se(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function Hn(o,e,t){let{$$slots:l={},$$scope:n}=e;const r=[["path",{d:"M12 11v4"}],["path",{d:"M14 13h-4"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"}],["path",{d:"M18 6v14"}],["path",{d:"M6 6v14"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2"}]];return o.$$set=s=>{t(1,e=q(q({},e),fe(s))),"$$scope"in s&&t(3,n=s.$$scope)},e=fe(e),[r,e,l,n]}class Al extends de{constructor(e){super(),me(this,e,Hn,Dn,ue,{})}}function qn(o){let e;const t=o[2].default,l=ke(t,o,o[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8)&&ve(l,t,n,n[3],e?Ce(t,n[3],r,null):ye(n[3]),null)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function Bn(o){let e,t;const l=[{name:"circle-check"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[qn]},$$scope:{ctx:o}};for(let r=0;r<l.length;r+=1)n=q(n,l[r]);return e=new ze({props:n}),{c(){P(e.$$.fragment)},l(r){w(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p(r,[s]){const i=s&3?be(l,[l[0],s&2&&Se(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function Ln(o,e,t){let{$$slots:l={},$$scope:n}=e;const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m9 12 2 2 4-4"}]];return o.$$set=s=>{t(1,e=q(q({},e),fe(s))),"$$scope"in s&&t(3,n=s.$$scope)},e=fe(e),[r,e,l,n]}class Un extends de{constructor(e){super(),me(this,e,Ln,Bn,ue,{})}}function Gn(o){let e;const t=o[2].default,l=ke(t,o,o[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8)&&ve(l,t,n,n[3],e?Ce(t,n[3],r,null):ye(n[3]),null)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function Fn(o){let e,t;const l=[{name:"circle-x"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[Gn]},$$scope:{ctx:o}};for(let r=0;r<l.length;r+=1)n=q(n,l[r]);return e=new ze({props:n}),{c(){P(e.$$.fragment)},l(r){w(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p(r,[s]){const i=s&3?be(l,[l[0],s&2&&Se(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function Kn(o,e,t){let{$$slots:l={},$$scope:n}=e;const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m15 9-6 6"}],["path",{d:"m9 9 6 6"}]];return o.$$set=s=>{t(1,e=q(q({},e),fe(s))),"$$scope"in s&&t(3,n=s.$$scope)},e=fe(e),[r,e,l,n]}class Wn extends de{constructor(e){super(),me(this,e,Kn,Fn,ue,{})}}function Yn(o){let e;const t=o[2].default,l=ke(t,o,o[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8)&&ve(l,t,n,n[3],e?Ce(t,n[3],r,null):ye(n[3]),null)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function Jn(o){let e,t;const l=[{name:"eye"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[Yn]},$$scope:{ctx:o}};for(let r=0;r<l.length;r+=1)n=q(n,l[r]);return e=new ze({props:n}),{c(){P(e.$$.fragment)},l(r){w(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p(r,[s]){const i=s&3?be(l,[l[0],s&2&&Se(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function Qn(o,e,t){let{$$slots:l={},$$scope:n}=e;const r=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];return o.$$set=s=>{t(1,e=q(q({},e),fe(s))),"$$scope"in s&&t(3,n=s.$$scope)},e=fe(e),[r,e,l,n]}class Xn extends de{constructor(e){super(),me(this,e,Qn,Jn,ue,{})}}function Zn(o){let e;const t=o[2].default,l=ke(t,o,o[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8)&&ve(l,t,n,n[3],e?Ce(t,n[3],r,null):ye(n[3]),null)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function xn(o){let e,t;const l=[{name:"locate"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[Zn]},$$scope:{ctx:o}};for(let r=0;r<l.length;r+=1)n=q(n,l[r]);return e=new ze({props:n}),{c(){P(e.$$.fragment)},l(r){w(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p(r,[s]){const i=s&3?be(l,[l[0],s&2&&Se(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function er(o,e,t){let{$$slots:l={},$$scope:n}=e;const r=[["line",{x1:"2",x2:"5",y1:"12",y2:"12"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22"}],["circle",{cx:"12",cy:"12",r:"7"}]];return o.$$set=s=>{t(1,e=q(q({},e),fe(s))),"$$scope"in s&&t(3,n=s.$$scope)},e=fe(e),[r,e,l,n]}class tr extends de{constructor(e){super(),me(this,e,er,xn,ue,{})}}function lr(o){let e;const t=o[2].default,l=ke(t,o,o[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8)&&ve(l,t,n,n[3],e?Ce(t,n[3],r,null):ye(n[3]),null)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function nr(o){let e,t;const l=[{name:"shield-check"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[lr]},$$scope:{ctx:o}};for(let r=0;r<l.length;r+=1)n=q(n,l[r]);return e=new ze({props:n}),{c(){P(e.$$.fragment)},l(r){w(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p(r,[s]){const i=s&3?be(l,[l[0],s&2&&Se(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function rr(o,e,t){let{$$slots:l={},$$scope:n}=e;const r=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"m9 12 2 2 4-4"}]];return o.$$set=s=>{t(1,e=q(q({},e),fe(s))),"$$scope"in s&&t(3,n=s.$$scope)},e=fe(e),[r,e,l,n]}class Il extends de{constructor(e){super(),me(this,e,rr,nr,ue,{})}}function sr(o){let e;const t=o[2].default,l=ke(t,o,o[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8)&&ve(l,t,n,n[3],e?Ce(t,n[3],r,null):ye(n[3]),null)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function or(o){let e,t;const l=[{name:"skull"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[sr]},$$scope:{ctx:o}};for(let r=0;r<l.length;r+=1)n=q(n,l[r]);return e=new ze({props:n}),{c(){P(e.$$.fragment)},l(r){w(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p(r,[s]){const i=s&3?be(l,[l[0],s&2&&Se(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function ir(o,e,t){let{$$slots:l={},$$scope:n}=e;const r=[["path",{d:"m12.5 17-.5-1-.5 1h1z"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"9",cy:"12",r:"1"}]];return o.$$set=s=>{t(1,e=q(q({},e),fe(s))),"$$scope"in s&&t(3,n=s.$$scope)},e=fe(e),[r,e,l,n]}class Rl extends de{constructor(e){super(),me(this,e,ir,or,ue,{})}}function ar(o){let e;const t=o[2].default,l=ke(t,o,o[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&8)&&ve(l,t,n,n[3],e?Ce(t,n[3],r,null):ye(n[3]),null)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function fr(o){let e,t;const l=[{name:"thumbs-down"},o[1],{iconNode:o[0]}];let n={$$slots:{default:[ar]},$$scope:{ctx:o}};for(let r=0;r<l.length;r+=1)n=q(n,l[r]);return e=new ze({props:n}),{c(){P(e.$$.fragment)},l(r){w(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p(r,[s]){const i=s&3?be(l,[l[0],s&2&&Se(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function cr(o,e,t){let{$$slots:l={},$$scope:n}=e;const r=[["path",{d:"M17 14V2"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z"}]];return o.$$set=s=>{t(1,e=q(q({},e),fe(s))),"$$scope"in s&&t(3,n=s.$$scope)},e=fe(e),[r,e,l,n]}class ur extends de{constructor(e){super(),me(this,e,cr,fr,ue,{})}}function dr(o,e){throw new jl(o,e.toString())}new TextEncoder;function mr({url:o}){let e=o.searchParams.get("id"),t=o.searchParams.get("type"),l=o.searchParams.get("username");if(console.log({gameId:e,gameType:t,username:l}),e&&t&&l)return{gameId:e,gameType:t,username:l};dr(303,"/")}const xs=Object.freeze(Object.defineProperty({__proto__:null,load:mr},Symbol.toStringTag,{value:"Module"}));function _r(o){let e;const t=o[5].default,l=ke(t,o,o[8],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,r){l&&l.m(n,r),e=!0},p(n,r){l&&l.p&&(!e||r&256)&&ve(l,t,n,n[8],e?Ce(t,n[8],r,null):ye(n[8]),null)},i(n){e||(d(l,n),e=!0)},o(n){_(l,n),e=!1},d(n){l&&l.d(n)}}}function gr(o){let e,t,l;const n=[{class:Ie(Dt({variant:o[2],size:o[3],className:o[1]}))},o[4]];function r(i){o[6](i)}let s={$$slots:{default:[_r]},$$scope:{ctx:o}};for(let i=0;i<n.length;i+=1)s=q(s,n[i]);return o[0]!==void 0&&(s.pressed=o[0]),e=new On({props:s}),Me.push(()=>ut(e,"pressed",r)),e.$on("click",o[7]),{c(){P(e.$$.fragment)},l(i){w(e.$$.fragment,i)},m(i,a){S(e,i,a),l=!0},p(i,[a]){const f=a&30?be(n,[a&14&&{class:Ie(Dt({variant:i[2],size:i[3],className:i[1]}))},a&16&&Se(i[4])]):{};a&256&&(f.$$scope={dirty:a,ctx:i}),!t&&a&1&&(t=!0,f.pressed=i[0],ct(()=>t=!1)),e.$set(f)},i(i){l||(d(e.$$.fragment,i),l=!0)},o(i){_(e.$$.fragment,i),l=!1},d(i){N(e,i)}}}function hr(o,e,t){const l=["class","variant","size","pressed"];let n=$e(e,l),{$$slots:r={},$$scope:s}=e,{class:i=void 0}=e,{variant:a="default"}=e,{size:f="default"}=e,{pressed:c=void 0}=e;function u(g){c=g,t(0,c)}function m(g){ft.call(this,o,g)}return o.$$set=g=>{e=q(q({},e),fe(g)),t(4,n=$e(e,l)),"class"in g&&t(1,i=g.class),"variant"in g&&t(2,a=g.variant),"size"in g&&t(3,f=g.size),"pressed"in g&&t(0,c=g.pressed),"$$scope"in g&&t(8,s=g.$$scope)},[c,i,a,f,n,r,u,m,s]}class Qe extends de{constructor(e){super(),me(this,e,hr,gr,ue,{class:1,variant:2,size:3,pressed:0})}}const Dt=Cl({base:"ring-offset-background hover:bg-muted hover:text-muted-foreground focus-visible:ring-ring data-[state=on]:bg-accent data-[state=on]:text-accent-foreground inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-transparent",outline:"border-input hover:bg-accent hover:text-accent-foreground border bg-transparent"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}});function pr(o){let e,t;const l=[{class:Ie("shrink-0 bg-border",o[1]==="horizontal"?"h-[1px] w-full":"min-h-full w-[1px]",o[0])},{orientation:o[1]},{decorative:o[2]},o[3]];let n={};for(let r=0;r<l.length;r+=1)n=q(n,l[r]);return e=new cn({props:n}),{c(){P(e.$$.fragment)},l(r){w(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p(r,[s]){const i=s&15?be(l,[s&3&&{class:Ie("shrink-0 bg-border",r[1]==="horizontal"?"h-[1px] w-full":"min-h-full w-[1px]",r[0])},s&2&&{orientation:r[1]},s&4&&{decorative:r[2]},s&8&&Se(r[3])]):{};e.$set(i)},i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function $r(o,e,t){const l=["class","orientation","decorative"];let n=$e(e,l),{class:r=void 0}=e,{orientation:s="horizontal"}=e,{decorative:i=void 0}=e;return o.$$set=a=>{e=q(q({},e),fe(a)),t(3,n=$e(e,l)),"class"in a&&t(0,r=a.class),"orientation"in a&&t(1,s=a.orientation),"decorative"in a&&t(2,i=a.decorative)},[r,s,i,n]}class Ml extends de{constructor(e){super(),me(this,e,$r,pr,ue,{class:0,orientation:1,decorative:2})}}function at(o){let e,t,l;const n=o[5].default,r=ke(n,o,o[4],null);let s=[{href:o[1]},{class:t=Ie(Ht({variant:o[2],className:o[0]}))},o[3]],i={};for(let a=0;a<s.length;a+=1)i=q(i,s[a]);return{c(){e=G(o[1]?"a":"span"),r&&r.c(),this.h()},l(a){e=F(a,((o[1]?"a":"span")||"null").toUpperCase(),{href:!0,class:!0});var f=x(e);r&&r.l(f),f.forEach(h),this.h()},h(){Nt(o[1]?"a":"span")(e,i)},m(a,f){$(a,e,f),r&&r.m(e,null),l=!0},p(a,f){r&&r.p&&(!l||f&16)&&ve(r,n,a,a[4],l?Ce(n,a[4],f,null):ye(a[4]),null),Nt(a[1]?"a":"span")(e,i=be(s,[(!l||f&2)&&{href:a[1]},(!l||f&5&&t!==(t=Ie(Ht({variant:a[2],className:a[0]}))))&&{class:t},f&8&&a[3]]))},i(a){l||(d(r,a),l=!0)},o(a){_(r,a),l=!1},d(a){a&&h(e),r&&r.d(a)}}}function br(o){let e=o[1]?"a":"span",t,l,n=(o[1]?"a":"span")&&at(o);return{c(){n&&n.c(),t=oe()},l(r){n&&n.l(r),t=oe()},m(r,s){n&&n.m(r,s),$(r,t,s),l=!0},p(r,[s]){r[1],e?ue(e,r[1]?"a":"span")?(n.d(1),n=at(r),e=r[1]?"a":"span",n.c(),n.m(t.parentNode,t)):n.p(r,s):(n=at(r),e=r[1]?"a":"span",n.c(),n.m(t.parentNode,t))},i(r){l||(d(n,r),l=!0)},o(r){_(n,r),l=!1},d(r){r&&h(t),n&&n.d(r)}}}function kr(o,e,t){const l=["class","href","variant"];let n=$e(e,l),{$$slots:r={},$$scope:s}=e,{class:i=void 0}=e,{href:a=void 0}=e,{variant:f="default"}=e;return o.$$set=c=>{e=q(q({},e),fe(c)),t(3,n=$e(e,l)),"class"in c&&t(0,i=c.class),"href"in c&&t(1,a=c.href),"variant"in c&&t(2,f=c.variant),"$$scope"in c&&t(4,s=c.$$scope)},[i,a,f,n,s,r]}class Oe extends de{constructor(e){super(),me(this,e,kr,br,ue,{class:0,href:1,variant:2})}}const Ht=Cl({base:"focus:ring-ring inline-flex select-none items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/80 border-transparent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border-transparent",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80 border-transparent",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function vr(o){let e,t;return e=new Nn({props:{class:Ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p:ce,i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function yr(o){let e,t,l;const n=[{class:Ie("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",o[1])},o[2]];function r(i){o[3](i)}let s={$$slots:{default:[vr]},$$scope:{ctx:o}};for(let i=0;i<n.length;i+=1)s=q(s,n[i]);return o[0]!==void 0&&(s.checked=o[0]),e=new vn({props:s}),Me.push(()=>ut(e,"checked",r)),e.$on("click",o[4]),e.$on("keydown",o[5]),{c(){P(e.$$.fragment)},l(i){w(e.$$.fragment,i)},m(i,a){S(e,i,a),l=!0},p(i,[a]){const f=a&6?be(n,[a&2&&{class:Ie("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",i[1])},a&4&&Se(i[2])]):{};a&64&&(f.$$scope={dirty:a,ctx:i}),!t&&a&1&&(t=!0,f.checked=i[0],ct(()=>t=!1)),e.$set(f)},i(i){l||(d(e.$$.fragment,i),l=!0)},o(i){_(e.$$.fragment,i),l=!1},d(i){N(e,i)}}}function Cr(o,e,t){const l=["class","checked"];let n=$e(e,l),{class:r=void 0}=e,{checked:s=void 0}=e;function i(c){s=c,t(0,s)}function a(c){ft.call(this,o,c)}function f(c){ft.call(this,o,c)}return o.$$set=c=>{e=q(q({},e),fe(c)),t(2,n=$e(e,l)),"class"in c&&t(1,r=c.class),"checked"in c&&t(0,s=c.checked)},[s,r,n,i,a,f]}class Pr extends de{constructor(e){super(),me(this,e,Cr,yr,ue,{class:1,checked:0})}}function wr(o,{delay:e=0,duration:t=400,easing:l=dt,start:n=0,opacity:r=0}={}){const s=getComputedStyle(o),i=+s.opacity,a=s.transform==="none"?"":s.transform,f=1-n,c=i*(1-r);return{delay:e,duration:t,easing:l,css:(u,m)=>`
			transform: ${a} scale(${1-f*m});
			opacity: ${i-c*m}
		`}}function Sr({fallback:o,...e}){const t=new Map,l=new Map;function n(s,i,a){const{delay:f=0,duration:c=W=>Math.sqrt(W)*30,easing:u=dt}=q(q({},e),a),m=s.getBoundingClientRect(),g=i.getBoundingClientRect(),b=m.left-g.left,v=m.top-g.top,k=m.width/g.width,I=m.height/g.height,y=Math.sqrt(b*b+v*v),ee=getComputedStyle(i),se=ee.transform==="none"?"":ee.transform,z=+ee.opacity;return{delay:f,duration:kl(c)?c(y):c,easing:u,css:(W,ae)=>`
				opacity: ${W*z};
				transform-origin: top left;
				transform: ${se} translate(${ae*b}px,${ae*v}px) scale(${W+(1-W)*k}, ${W+(1-W)*I});
			`}}function r(s,i,a){return(f,c)=>(s.set(c.key,f),()=>{if(i.has(c.key)){const u=i.get(c.key);return i.delete(c.key),n(u,f,c)}return s.delete(c.key),o&&o(f,c,a)})}return[r(l,t,!1),r(t,l,!0)]}const[st,ot]=Sr({duration:o=>Math.sqrt(o*200),fallback(o,e){const t=getComputedStyle(o),l=t.transform==="none"?"":t.transform;return{duration:600,easing:Fl,css:n=>`
				transform: ${l} scale(${n});
				opacity: ${n}
			`}}});function Ue(o,{from:e,to:t},l={}){const n=getComputedStyle(o),r=n.transform==="none"?"":n.transform,[s,i]=n.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*s/t.width-(t.left+s),f=e.top+e.height*i/t.height-(t.top+i),{delay:c=0,duration:u=g=>Math.sqrt(g)*120,easing:m=dt}=l;return{delay:c,duration:kl(u)?u(Math.sqrt(a*a+f*f)):u,easing:m,css:(g,b)=>{const v=b*a,k=b*f,I=g+b*e.width/t.width,y=g+b*e.height/t.height;return`transform: ${r} translate(${v}px, ${k}px) scale(${I}, ${y});`}}}function qt(o,e,t){const l=o.slice();return l[24]=e[t],l}function Bt(o,e,t){const l=o.slice();return l[27]=e[t],l}function Lt(o,e,t){const l=o.slice();return l[27]=e[t],l}function Ut(o,e,t){const l=o.slice();return l[27]=e[t],l}function Nr(o){let e,t;return{c(){e=Q(o[1]),t=Q(" Time")},l(l){e=X(l,o[1]),t=X(l," Time")},m(l,n){$(l,e,n),$(l,t,n)},p(l,n){n[0]&2&&pe(e,l[1])},d(l){l&&(h(e),h(t))}}}function Er(o){let e=o[1]=="day"?"Vote player off":"Perform your secret role",t;return{c(){t=Q(e)},l(l){t=X(l,e)},m(l,n){$(l,t,n)},p(l,n){n[0]&2&&e!==(e=l[1]=="day"?"Vote player off":"Perform your secret role")&&pe(t,e)},d(l){l&&h(t)}}}function Tr(o){let e,t,l,n;return e=new vt({props:{class:"capitalize",tag:"h1",$$slots:{default:[Nr]},$$scope:{ctx:o}}}),l=new yt({props:{$$slots:{default:[Er]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment),t=L(),P(l.$$.fragment)},l(r){w(e.$$.fragment,r),t=U(r),w(l.$$.fragment,r)},m(r,s){S(e,r,s),$(r,t,s),S(l,r,s),n=!0},p(r,s){const i={};s[0]&2|s[1]&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i);const a={};s[0]&2|s[1]&8&&(a.$$scope={dirty:s,ctx:r}),l.$set(a)},i(r){n||(d(e.$$.fragment,r),d(l.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),_(l.$$.fragment,r),n=!1},d(r){r&&h(t),N(e,r),N(l,r)}}}function Gt(o){let e,t;return e=new Oe({props:{variant:"outline",$$slots:{default:[Ar]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n[0]&12|n[1]&8&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Ar(o){let e=o[3][o[24]]+"",t;return{c(){t=Q(e)},l(l){t=X(l,e)},m(l,n){$(l,t,n)},p(l,n){n[0]&12&&e!==(e=l[3][l[24]]+"")&&pe(t,e)},d(l){l&&h(t)}}}function Ft(o){let e,t;return e=new Il({props:{class:"w-8 stroke-purple-500"}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Kt(o){let e,t;return e=new Rl({props:{class:"w-8"}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Wt(o){let e,t;return e=new Al({props:{class:"w-8 stroke-green-500"}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Yt(o){let e,t;return e=new Oe({props:{style:"--my-color:var(--my-color-"+o[10][o[27]]+")",class:"h-3 w-3 border border-primary bg-[var(--my-color)] p-0 hover:bg-[var(--my-color)]"}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n[0]&3076&&(r.style="--my-color:var(--my-color-"+l[10][l[27]]+")"),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Ir(o){let e,t,l=he(o[11][o[24]]?o[11][o[24]]:[]),n=[];for(let s=0;s<l.length;s+=1)n[s]=Yt(Ut(o,l,s));const r=s=>_(n[s],1,1,()=>{n[s]=null});return{c(){e=G("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=F(s,"DIV",{class:!0});var i=x(e);for(let a=0;a<n.length;a+=1)n[a].l(i);i.forEach(h),this.h()},h(){J(e,"class","flex flex-nowrap *:-ml-1 first:*:m-0")},m(s,i){$(s,e,i);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);t=!0},p(s,i){if(i[0]&3076){l=he(s[11][s[24]]?s[11][s[24]]:[]);let a;for(a=0;a<l.length;a+=1){const f=Ut(s,l,a);n[a]?(n[a].p(f,i),d(n[a],1)):(n[a]=Yt(f),n[a].c(),d(n[a],1),n[a].m(e,null))}for(ne(),a=l.length;a<n.length;a+=1)r(a);re()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)d(n[i]);t=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)_(n[i]);t=!1},d(s){s&&h(e),nt(n,s)}}}function Jt(o){let e,t;return e=new Yl({props:{$$slots:{default:[Mr]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n[0]&3076|n[1]&8&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Rr(o){let e=o[27]+"",t;return{c(){t=Q(e)},l(l){t=X(l,e)},m(l,n){$(l,t,n)},p(l,n){n[0]&2052&&e!==(e=l[27]+"")&&pe(t,e)},d(l){l&&h(t)}}}function Qt(o,e){let t,l,n,r,s,i=ce,a;return l=new Oe({props:{style:"--my-color:var(--my-color-"+e[10][e[27]]+")",class:"bg-[var(--my-color)] hover:bg-[var(--my-color)]",$$slots:{default:[Rr]},$$scope:{ctx:e}}}),{key:o,first:null,c(){t=G("div"),P(l.$$.fragment),n=L(),this.h()},l(f){t=F(f,"DIV",{});var c=x(t);w(l.$$.fragment,c),n=U(c),c.forEach(h),this.h()},h(){this.first=t},m(f,c){$(f,t,c),S(l,t,null),R(t,n),a=!0},p(f,c){e=f;const u={};c[0]&3076&&(u.style="--my-color:var(--my-color-"+e[10][e[27]]+")"),c[0]&2052|c[1]&8&&(u.$$scope={dirty:c,ctx:e}),l.$set(u)},r(){s=t.getBoundingClientRect()},f(){Le(t),i()},a(){i(),i=Be(t,s,Ue,{duration:600})},i(f){a||(d(l.$$.fragment,f),f&&(r||We(()=>{r=Ye(t,wr,{}),r.start()})),a=!0)},o(f){_(l.$$.fragment,f),a=!1},d(f){f&&h(t),N(l)}}}function Mr(o){let e,t=[],l=new Map,n,r=he(o[11][o[24]]?o[11][o[24]]:[]);const s=i=>i[27];for(let i=0;i<r.length;i+=1){let a=Lt(o,r,i),f=s(a);l.set(f,t[i]=Qt(f,a))}return{c(){e=G("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=F(i,"DIV",{class:!0});var a=x(e);for(let f=0;f<t.length;f+=1)t[f].l(a);a.forEach(h),this.h()},h(){J(e,"class","color-scheme flex flex-wrap justify-evenly gap-1")},m(i,a){$(i,e,a);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);n=!0},p(i,a){if(a[0]&3076){r=he(i[11][i[24]]?i[11][i[24]]:[]),ne();for(let f=0;f<t.length;f+=1)t[f].r();t=He(t,a,s,1,i,r,l,e,qe,Qt,null,Lt);for(let f=0;f<t.length;f+=1)t[f].a();re()}},i(i){if(!n){for(let a=0;a<r.length;a+=1)d(t[a]);n=!0}},o(i){for(let a=0;a<t.length;a+=1)_(t[a]);n=!1},d(i){i&&h(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function zr(o){let e,t,l,n;e=new Wl({props:{class:"h-10 px-2",$$slots:{default:[Ir]},$$scope:{ctx:o}}});let r=o[11][o[24]]&&o[11][o[24]].length>0&&Jt(o);return{c(){P(e.$$.fragment),t=L(),r&&r.c(),l=oe()},l(s){w(e.$$.fragment,s),t=U(s),r&&r.l(s),l=oe()},m(s,i){S(e,s,i),$(s,t,i),r&&r.m(s,i),$(s,l,i),n=!0},p(s,i){const a={};i[0]&3076|i[1]&8&&(a.$$scope={dirty:i,ctx:s}),e.$set(a),s[11][s[24]]&&s[11][s[24]].length>0?r?(r.p(s,i),i[0]&2052&&d(r,1)):(r=Jt(s),r.c(),d(r,1),r.m(l.parentNode,l)):r&&(ne(),_(r,1,1,()=>{r=null}),re())},i(s){n||(d(e.$$.fragment,s),d(r),n=!0)},o(s){_(e.$$.fragment,s),_(r),n=!1},d(s){s&&(h(t),h(l)),N(e,s),r&&r.d(s)}}}function jr(o){var n;let e,t;function l(){return o[21](o[24])}return e=new Re({props:{variant:"secondary",class:"group justify-self-end",disabled:!((n=o[0][o[4]])!=null&&n.isAlive)||!o[0][o[24]].isAlive||!o[12],$$slots:{default:[Vr]},$$scope:{ctx:o}}}),e.$on("click",l),{c(){P(e.$$.fragment)},l(r){w(e.$$.fragment,r)},m(r,s){S(e,r,s),t=!0},p(r,s){var a;o=r;const i={};s[0]&21&&(i.disabled=!((a=o[0][o[4]])!=null&&a.isAlive)||!o[0][o[24]].isAlive||!o[12]),s[1]&8&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(r){t||(d(e.$$.fragment,r),t=!0)},o(r){_(e.$$.fragment,r),t=!1},d(r){N(e,r)}}}function Or(o){var n,r;let e,t;function l(...s){return o[20](o[24],...s)}return e=new Qe({props:{class:"group justify-self-end",pressed:o[5]==o[24],onPressedChange:l,disabled:!((n=o[0][o[4]])!=null&&n.isAlive)||!((r=o[0][o[24]])!=null&&r.isAlive)||!o[12],$$slots:{default:[Dr]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(s){w(e.$$.fragment,s)},m(s,i){S(e,s,i),t=!0},p(s,i){var f,c;o=s;const a={};i[0]&36&&(a.pressed=o[5]==o[24]),i[0]&4&&(a.onPressedChange=l),i[0]&21&&(a.disabled=!((f=o[0][o[4]])!=null&&f.isAlive)||!((c=o[0][o[24]])!=null&&c.isAlive)||!o[12]),i[1]&8&&(a.$$scope={dirty:i,ctx:o}),e.$set(a)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){_(e.$$.fragment,s),t=!1},d(s){N(e,s)}}}function Vr(o){let e,t;return e=new tr({props:{size:"20",class:"scale-110 transition duration-300 ease-in-out group-data-[state=on]:scale-125"}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p:ce,i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Dr(o){let e,t;return e=new ur({props:{size:"20",class:"scale-110 transition duration-300 ease-in-out group-data-[state=on]:scale-125"}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p:ce,i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Xt(o){let e,t,l,n;const r=[Lr,Br,qr,Hr],s=[];function i(a,f){return a[3][a[4]]=="mafia"?0:a[3][a[4]]=="doctor"&&a[7]==a[24]?1:a[3][a[4]]=="detective"&&a[7]==a[24]?2:a[3][a[4]]=="prostitute"&&a[7]==a[24]?3:-1}return~(t=i(o))&&(l=s[t]=r[t](o)),{c(){e=G("div"),l&&l.c(),this.h()},l(a){e=F(a,"DIV",{class:!0});var f=x(e);l&&l.l(f),f.forEach(h),this.h()},h(){J(e,"class","absolute right-full flex h-12 w-5 flex-col justify-center")},m(a,f){$(a,e,f),~t&&s[t].m(e,null),n=!0},p(a,f){let c=t;t=i(a),t===c?~t&&s[t].p(a,f):(l&&(ne(),_(s[c],1,1,()=>{s[c]=null}),re()),~t?(l=s[t],l?l.p(a,f):(l=s[t]=r[t](a),l.c()),d(l,1),l.m(e,null)):l=null)},i(a){n||(d(l),n=!0)},o(a){_(l),n=!1},d(a){a&&h(e),~t&&s[t].d()}}}function Hr(o){let e,t;return e=new Il({props:{class:"-mt-4 w-4 stroke-purple-500 first:m-0"}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p:ce,i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function qr(o){let e,t,l,n;const r=[Gr,Ur],s=[];function i(a,f){return a[3][a[24]]=="mafia"?0:1}return e=i(o),t=s[e]=r[e](o),{c(){t.c(),l=oe()},l(a){t.l(a),l=oe()},m(a,f){s[e].m(a,f),$(a,l,f),n=!0},p(a,f){let c=e;e=i(a),e!==c&&(ne(),_(s[c],1,1,()=>{s[c]=null}),re(),t=s[e],t||(t=s[e]=r[e](a),t.c()),d(t,1),t.m(l.parentNode,l))},i(a){n||(d(t),n=!0)},o(a){_(t),n=!1},d(a){a&&h(l),s[e].d(a)}}}function Br(o){let e,t;return e=new Al({props:{class:"-mt-4 w-4 stroke-green-500 first:m-0"}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p:ce,i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Lr(o){let e,t,l=he(o[9][o[24]]?o[9][o[24]]:[]),n=[];for(let s=0;s<l.length;s+=1)n[s]=Zt(Bt(o,l,s));const r=s=>_(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=oe()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);e=oe()},m(s,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(s,i);$(s,e,i),t=!0},p(s,i){if(i[0]&1540){l=he(s[9][s[24]]?s[9][s[24]]:[]);let a;for(a=0;a<l.length;a+=1){const f=Bt(s,l,a);n[a]?(n[a].p(f,i),d(n[a],1)):(n[a]=Zt(f),n[a].c(),d(n[a],1),n[a].m(e.parentNode,e))}for(ne(),a=l.length;a<n.length;a+=1)r(a);re()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)d(n[i]);t=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)_(n[i]);t=!1},d(s){s&&h(e),nt(n,s)}}}function Ur(o){let e,t;return e=new Wn({props:{class:"-mt-4 w-4 stroke-red-500 first:m-0"}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Gr(o){let e,t;return e=new Un({props:{class:"-mt-4 w-4 stroke-green-500 first:m-0"}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Zt(o){let e,t,l;return e=new Rl({props:{style:"--my-color:var(--my-color-"+o[10][o[27]]+")",class:"-mt-4 w-4 fill-[var(--my-color)] stroke-card first:m-0"}}),{c(){P(e.$$.fragment),t=L()},l(n){w(e.$$.fragment,n),t=U(n)},m(n,r){S(e,n,r),$(n,t,r),l=!0},p(n,r){const s={};r[0]&1540&&(s.style="--my-color:var(--my-color-"+n[10][n[27]]+")"),e.$set(s)},i(n){l||(d(e.$$.fragment,n),l=!0)},o(n){_(e.$$.fragment,n),l=!1},d(n){n&&h(t),N(e,n)}}}function xt(o,e){let t,l,n,r=e[24]+"",s,i,a,f,c,u,m,g,b,v,k,I,y,ee,se,z,W=ce,ae,Z=(e[6]&&(e[4]==e[24]||e[3][e[4]]=="mafia"&&e[3][e[24]]=="mafia")||e[8])&&Gt(e),Y=e[0][e[24]].isProtected&&Ft(),A=e[0][e[24]].isKilled&&Kt(),p=e[0][e[24]].isHealed&&Wt();b=new Kl({props:{$$slots:{default:[zr]},$$scope:{ctx:e}}});const te=[Or,jr],C=[];function B(K,O){return K[1]=="day"?0:K[1]=="night"?1:-1}~(k=B(e))&&(I=C[k]=te[k](e));let D=e[6]&&Xt(e);return{key:o,first:null,c(){t=G("div"),l=G("div"),n=G("span"),s=Q(r),a=L(),Z&&Z.c(),f=L(),c=G("div"),Y&&Y.c(),u=L(),A&&A.c(),m=L(),p&&p.c(),g=L(),P(b.$$.fragment),v=L(),I&&I.c(),y=L(),D&&D.c(),ee=L(),this.h()},l(K){t=F(K,"DIV",{style:!0,class:!0});var O=x(t);l=F(O,"DIV",{class:!0});var _e=x(l);n=F(_e,"SPAN",{class:!0});var ge=x(n);s=X(ge,r),ge.forEach(h),a=U(_e),Z&&Z.l(_e),_e.forEach(h),f=U(O),c=F(O,"DIV",{class:!0});var le=x(c);Y&&Y.l(le),u=U(le),A&&A.l(le),m=U(le),p&&p.l(le),le.forEach(h),g=U(O),w(b.$$.fragment,O),v=U(O),I&&I.l(O),y=U(O),D&&D.l(O),ee=U(O),O.forEach(h),this.h()},h(){J(n,"class",i=e[0][e[24]].isAlive?"":"line-through"),J(l,"class","col-span-3"),J(c,"class","flex"),Et(t,"--my-color","var(--my-color-"+e[10][e[24]]+")"),J(t,"class",se=(e[0][e[24]].isAlive&&e[12]?"order-1":"order-2 opacity-50")+" relative grid h-12 w-full grid-cols-6 items-center rounded-sm border border-l-4 border-input border-l-[var(--my-color)] bg-primary-foreground bg-opacity-10 px-3 font-medium ring-offset-background"),this.first=t},m(K,O){$(K,t,O),R(t,l),R(l,n),R(n,s),R(l,a),Z&&Z.m(l,null),R(t,f),R(t,c),Y&&Y.m(c,null),R(c,u),A&&A.m(c,null),R(c,m),p&&p.m(c,null),R(t,g),S(b,t,null),R(t,v),~k&&C[k].m(t,null),R(t,y),D&&D.m(t,null),R(t,ee),ae=!0},p(K,O){e=K,(!ae||O[0]&4)&&r!==(r=e[24]+"")&&pe(s,r),(!ae||O[0]&5&&i!==(i=e[0][e[24]].isAlive?"":"line-through"))&&J(n,"class",i),e[6]&&(e[4]==e[24]||e[3][e[4]]=="mafia"&&e[3][e[24]]=="mafia")||e[8]?Z?(Z.p(e,O),O[0]&348&&d(Z,1)):(Z=Gt(e),Z.c(),d(Z,1),Z.m(l,null)):Z&&(ne(),_(Z,1,1,()=>{Z=null}),re()),e[0][e[24]].isProtected?Y?O[0]&5&&d(Y,1):(Y=Ft(),Y.c(),d(Y,1),Y.m(c,u)):Y&&(ne(),_(Y,1,1,()=>{Y=null}),re()),e[0][e[24]].isKilled?A?O[0]&5&&d(A,1):(A=Kt(),A.c(),d(A,1),A.m(c,m)):A&&(ne(),_(A,1,1,()=>{A=null}),re()),e[0][e[24]].isHealed?p?O[0]&5&&d(p,1):(p=Wt(),p.c(),d(p,1),p.m(c,null)):p&&(ne(),_(p,1,1,()=>{p=null}),re());const _e={};O[0]&3076|O[1]&8&&(_e.$$scope={dirty:O,ctx:e}),b.$set(_e);let ge=k;k=B(e),k===ge?~k&&C[k].p(e,O):(I&&(ne(),_(C[ge],1,1,()=>{C[ge]=null}),re()),~k?(I=C[k],I?I.p(e,O):(I=C[k]=te[k](e),I.c()),d(I,1),I.m(t,y)):I=null),e[6]?D?(D.p(e,O),O[0]&64&&d(D,1)):(D=Xt(e),D.c(),d(D,1),D.m(t,ee)):D&&(ne(),_(D,1,1,()=>{D=null}),re()),(!ae||O[0]&1028)&&Et(t,"--my-color","var(--my-color-"+e[10][e[24]]+")"),(!ae||O[0]&5&&se!==(se=(e[0][e[24]].isAlive&&e[12]?"order-1":"order-2 opacity-50")+" relative grid h-12 w-full grid-cols-6 items-center rounded-sm border border-l-4 border-input border-l-[var(--my-color)] bg-primary-foreground bg-opacity-10 px-3 font-medium ring-offset-background"))&&J(t,"class",se)},r(){z=t.getBoundingClientRect()},f(){Le(t),W()},a(){W(),W=Be(t,z,Ue,{})},i(K){ae||(d(Z),d(Y),d(A),d(p),d(b.$$.fragment,K),d(I),d(D),ae=!0)},o(K){_(Z),_(Y),_(A),_(p),_(b.$$.fragment,K),_(I),_(D),ae=!1},d(K){K&&h(t),Z&&Z.d(),Y&&Y.d(),A&&A.d(),p&&p.d(),N(b),~k&&C[k].d(),D&&D.d()}}}function Fr(o){let e,t=[],l=new Map,n,r=he(o[2]);const s=i=>i[24];for(let i=0;i<r.length;i+=1){let a=qt(o,r,i),f=s(a);l.set(f,t[i]=xt(f,a))}return{c(){e=G("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=F(i,"DIV",{class:!0});var a=x(e);for(let f=0;f<t.length;f+=1)t[f].l(a);a.forEach(h),this.h()},h(){J(e,"class","flex flex-col gap-2")},m(i,a){$(i,e,a);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);n=!0},p(i,a){if(a[0]&57343){r=he(i[2]),ne();for(let f=0;f<t.length;f+=1)t[f].r();t=He(t,a,s,1,i,r,l,e,qe,xt,null,qt);for(let f=0;f<t.length;f+=1)t[f].a();re()}},i(i){if(!n){for(let a=0;a<r.length;a+=1)d(t[a]);n=!0}},o(i){for(let a=0;a<t.length;a+=1)_(t[a]);n=!1},d(i){i&&h(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Kr(o){let e,t;return e=new Xn({props:{class:o[6]?"":"stroke-muted-foreground"}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n[0]&64&&(r.class=l[6]?"":"stroke-muted-foreground"),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Wr(o){let e;return{c(){e=Q("Confirm")},l(t){e=X(t,"Confirm")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function Yr(o){let e,t,l,n,r,s,i;return t=new Pr({props:{id:"reveal",onCheckedChange:o[13],checked:o[6]}}),n=new Sl({props:{for:"reveal",$$slots:{default:[Kr]},$$scope:{ctx:o}}}),s=new Re({props:{$$slots:{default:[Wr]},$$scope:{ctx:o}}}),s.$on("click",o[16]),{c(){e=G("div"),P(t.$$.fragment),l=L(),P(n.$$.fragment),r=L(),P(s.$$.fragment),this.h()},l(a){e=F(a,"DIV",{class:!0});var f=x(e);w(t.$$.fragment,f),l=U(f),w(n.$$.fragment,f),f.forEach(h),r=U(a),w(s.$$.fragment,a),this.h()},h(){J(e,"class","flex gap-2")},m(a,f){$(a,e,f),S(t,e,null),R(e,l),S(n,e,null),$(a,r,f),S(s,a,f),i=!0},p(a,f){const c={};f[0]&64&&(c.checked=a[6]),t.$set(c);const u={};f[0]&64|f[1]&8&&(u.$$scope={dirty:f,ctx:a}),n.$set(u);const m={};f[1]&8&&(m.$$scope={dirty:f,ctx:a}),s.$set(m)},i(a){i||(d(t.$$.fragment,a),d(n.$$.fragment,a),d(s.$$.fragment,a),i=!0)},o(a){_(t.$$.fragment,a),_(n.$$.fragment,a),_(s.$$.fragment,a),i=!1},d(a){a&&(h(e),h(r)),N(t),N(n),N(s,a)}}}function Jr(o){let e,t,l,n,r,s;return e=new $t({props:{$$slots:{default:[Tr]},$$scope:{ctx:o}}}),l=new bt({props:{$$slots:{default:[Fr]},$$scope:{ctx:o}}}),r=new kt({props:{class:"flex justify-between",$$slots:{default:[Yr]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment),t=L(),P(l.$$.fragment),n=L(),P(r.$$.fragment)},l(i){w(e.$$.fragment,i),t=U(i),w(l.$$.fragment,i),n=U(i),w(r.$$.fragment,i)},m(i,a){S(e,i,a),$(i,t,a),S(l,i,a),$(i,n,a),S(r,i,a),s=!0},p(i,a){const f={};a[0]&2|a[1]&8&&(f.$$scope={dirty:a,ctx:i}),e.$set(f);const c={};a[0]&4095|a[1]&8&&(c.$$scope={dirty:a,ctx:i}),l.$set(c);const u={};a[0]&64|a[1]&8&&(u.$$scope={dirty:a,ctx:i}),r.$set(u)},i(i){s||(d(e.$$.fragment,i),d(l.$$.fragment,i),d(r.$$.fragment,i),s=!0)},o(i){_(e.$$.fragment,i),_(l.$$.fragment,i),_(r.$$.fragment,i),s=!1},d(i){i&&(h(t),h(n)),N(e,i),N(l,i),N(r,i)}}}function Qr(o){let e,t;return e=new pt({props:{class:"color-scheme mx-auto max-w-sm bg-card",$$slots:{default:[Jr]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n[0]&4095|n[1]&8&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Xr(o,e,t){let l,n,r,{channel:s}=e,{finalizedPlayers:i}=e,{assignedRoles:a}=e,{gameState:f}=e,{gameTime:c}=e,{username:u}=e;const m=i.some(p=>p==u);console.log({isPlayer:m});let g={},b=!1,v,k=null,I=null,y={},ee=!1;s.on("broadcast",{event:"update"},({payload:p})=>{console.log(p),p.votes&&t(18,g=p.votes),p.gameState&&t(0,f=p.gameState),p.gameTime&&t(1,c=p.gameTime),p.proceed&&ae(p.gameTime),p.gameEnded&&t(8,ee=p.gameEnded)}),a[u]=="mafia"&&(console.log("insert"),s.on("broadcast",{event:"mafia-communicate"},({payload:p})=>{a[p.key]=="mafia"&&t(19,y[p.key]=p.targetedPlayer,y)}));function se(p=!0){t(6,b=p),p&&(v&&clearTimeout(v),v=setTimeout(()=>{t(6,b=!1),clearTimeout(v),v=null},3e3))}function z(p,te){if(f[p].isProtected){t(5,k),Pe.warning("The player can not be voted off.");return}te?t(5,k=p):t(5,k=null)}function W(p){switch(se(),a[u]){case"villager":break;case"mafia":if(p==u){Pe.message("Cannot act upon self.");break}I!=p&&(t(7,I=p),t(19,y[u]=p,y),s.send({type:"broadcast",event:"action",payload:{key:u,action:"kill",targetedPlayer:I}}),s.send({type:"broadcast",event:"mafia-communicate",payload:{key:u,targetedPlayer:I}}));break;case"doctor":I!=p&&(t(7,I=p),s.send({type:"broadcast",event:"action",payload:{key:u,action:"heal",targetedPlayer:I}}));break;case"prostitute":if(p==u){Pe.message("Cannot act upon self.");break}I!=p&&(t(7,I=p),s.send({type:"broadcast",event:"action",payload:{key:u,action:"protect",targetedPlayer:I}}));break;case"detective":if(p==u){Pe.message("Cannot act upon self.");break}I||t(7,I=p);break}}function ae(p){t(18,g={}),t(5,k=null),t(19,y={}),t(7,I=null)}function Z(){m&&f[u].isAlive?(s.send({type:"broadcast",event:"action",payload:{key:u,action:"confirm"}}),Pe.success("Confirmed")):Pe.message("Not required")}const Y=(p,te)=>z(p,te),A=p=>W(p);return o.$$set=p=>{"channel"in p&&t(17,s=p.channel),"finalizedPlayers"in p&&t(2,i=p.finalizedPlayers),"assignedRoles"in p&&t(3,a=p.assignedRoles),"gameState"in p&&t(0,f=p.gameState),"gameTime"in p&&t(1,c=p.gameTime),"username"in p&&t(4,u=p.username)},o.$$.update=()=>{o.$$.dirty[0]&262144&&t(11,l=Object.keys(g).reduce((p,te,C)=>(g[te]&&(p[g[te]]||(p[g[te]]=[]),p[g[te]].push(te)),p),{})),o.$$.dirty[0]&4&&t(10,n=i.reduce((p,te,C)=>(p[te]=C,p),{})),o.$$.dirty[0]&524288&&t(9,r=Object.keys(y).reduce((p,te,C)=>(y[te]&&(p[y[te]]||(p[y[te]]=[]),p[y[te]].push(te)),p),{})),o.$$.dirty[0]&131120&&s.send({type:"broadcast",event:"action",payload:{key:u,action:"vote",votedPlayer:k}})},[f,c,i,a,u,k,b,I,ee,r,n,l,m,se,z,W,Z,s,g,y,Y,A]}class zl extends de{constructor(e){super(),me(this,e,Xr,Qr,ue,{channel:17,finalizedPlayers:2,assignedRoles:3,gameState:0,gameTime:1,username:4},null,[-1,-1])}}function el(o,e,t){const l=o.slice();return l[26]=e[t],l[27]=e,l[28]=t,l}function tl(o,e,t){const l=o.slice();return l[26]=e[t],l}function ll(o,e,t){const l=o.slice();return l[26]=e[t],l}function Zr(o){let e,t,l,n,r,s,i,a;t=new Re({props:{$$slots:{default:[es]},$$scope:{ctx:o}}}),t.$on("click",o[15]);const f=[ls,ts],c=[];function u(m,g){return m[8]?0:1}return n=u(o),r=c[n]=f[n](o),i=new zl({props:{finalizedPlayers:o[10],assignedRoles:o[11],username:o[1],channel:o[0],gameState:o[7],gameTime:o[6]}}),{c(){e=G("div"),P(t.$$.fragment),l=L(),r.c(),s=L(),P(i.$$.fragment),this.h()},l(m){e=F(m,"DIV",{class:!0});var g=x(e);w(t.$$.fragment,g),l=U(g),r.l(g),g.forEach(h),s=U(m),w(i.$$.fragment,m),this.h()},h(){J(e,"class","mx-auto mb-8 flex max-w-sm items-center gap-4 rounded-md border bg-card p-2")},m(m,g){$(m,e,g),S(t,e,null),R(e,l),c[n].m(e,null),$(m,s,g),S(i,m,g),a=!0},p(m,g){const b={};g[0]&12288|g[1]&4&&(b.$$scope={dirty:g,ctx:m}),t.$set(b);let v=n;n=u(m),n===v?c[n].p(m,g):(ne(),_(c[v],1,1,()=>{c[v]=null}),re(),r=c[n],r?r.p(m,g):(r=c[n]=f[n](m),r.c()),d(r,1),r.m(e,null));const k={};g[0]&1024&&(k.finalizedPlayers=m[10]),g[0]&2048&&(k.assignedRoles=m[11]),g[0]&2&&(k.username=m[1]),g[0]&1&&(k.channel=m[0]),g[0]&128&&(k.gameState=m[7]),g[0]&64&&(k.gameTime=m[6]),i.$set(k)},i(m){a||(d(t.$$.fragment,m),d(r),d(i.$$.fragment,m),a=!0)},o(m){_(t.$$.fragment,m),_(r),_(i.$$.fragment,m),a=!1},d(m){m&&(h(e),h(s)),N(t),c[n].d(),N(i,m)}}}function xr(o){let e,t;return e=new pt({props:{class:"mx-auto max-w-sm bg-card",$$slots:{default:[ps]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n[0]&540|n[1]&4&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function es(o){let e,t,l,n=o[12].length+"",r;return{c(){e=Q("Proceed: "),t=Q(o[13]),l=Q("/"),r=Q(n)},l(s){e=X(s,"Proceed: "),t=X(s,o[13]),l=X(s,"/"),r=X(s,n)},m(s,i){$(s,e,i),$(s,t,i),$(s,l,i),$(s,r,i)},p(s,i){i[0]&8192&&pe(t,s[13]),i[0]&4096&&n!==(n=s[12].length+"")&&pe(r,n)},d(s){s&&(h(e),h(t),h(l),h(r))}}}function ts(o){let e,t;return e=new Re({props:{$$slots:{default:[ns]},$$scope:{ctx:o}}}),e.$on("click",o[16]),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n[1]&4&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function ls(o){let e,t;return e=new Re({props:{$$slots:{default:[rs]},$$scope:{ctx:o}}}),e.$on("click",o[17]),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n[1]&4&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function ns(o){let e;return{c(){e=Q("End Game")},l(t){e=X(t,"End Game")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function rs(o){let e;return{c(){e=Q("New Game")},l(t){e=X(t,"New Game")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function ss(o){let e;return{c(){e=Q("Settings")},l(t){e=X(t,"Settings")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function os(o){let e;return{c(){e=Q("Players online in room")},l(t){e=X(t,"Players online in room")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function is(o){let e,t,l,n;return e=new vt({props:{tag:"h1",$$slots:{default:[ss]},$$scope:{ctx:o}}}),l=new yt({props:{$$slots:{default:[os]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment),t=L(),P(l.$$.fragment)},l(r){w(e.$$.fragment,r),t=U(r),w(l.$$.fragment,r)},m(r,s){S(e,r,s),$(r,t,s),S(l,r,s),n=!0},p(r,s){const i={};s[1]&4&&(i.$$scope={dirty:s,ctx:r}),e.$set(i);const a={};s[1]&4&&(a.$$scope={dirty:s,ctx:r}),l.$set(a)},i(r){n||(d(e.$$.fragment,r),d(l.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),_(l.$$.fragment,r),n=!1},d(r){r&&h(t),N(e,r),N(l,r)}}}function nl(o){let e,t="No Players Selected";return{c(){e=G("li"),e.textContent=t,this.h()},l(l){e=F(l,"LI",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-p012nz"&&(e.textContent=t),this.h()},h(){J(e,"class","text-center text-xs text-muted-foreground h-0")},m(l,n){$(l,e,n)},p:ce,d(l){l&&h(e)}}}function rl(o){let e,t;return e=new Oe({props:{class:"absolute right-2 bg-opacity-75",$$slots:{default:[as]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function as(o){let e;return{c(){e=Q("host")},l(t){e=X(t,"host")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function fs(o){let e=o[26]+"",t,l,n,r,s=o[2][o[26]].isHost&&rl(o);return{c(){t=Q(e),l=L(),s&&s.c(),n=oe()},l(i){t=X(i,e),l=U(i),s&&s.l(i),n=oe()},m(i,a){$(i,t,a),$(i,l,a),s&&s.m(i,a),$(i,n,a),r=!0},p(i,a){(!r||a[0]&8)&&e!==(e=i[26]+"")&&pe(t,e),i[2][i[26]].isHost?s?a[0]&12&&d(s,1):(s=rl(i),s.c(),d(s,1),s.m(n.parentNode,n)):s&&(ne(),_(s,1,1,()=>{s=null}),re())},i(i){r||(d(s),r=!0)},o(i){_(s),r=!1},d(i){i&&(h(t),h(l),h(n)),s&&s.d(i)}}}function sl(o,e){let t,l,n,r,s,i,a=ce,f;function c(...u){return e[20](e[26],...u)}return l=new Qe({props:{class:"relative h-8 w-full",pressed:!0,onPressedChange:c,$$slots:{default:[fs]},$$scope:{ctx:e}}}),{key:o,first:null,c(){t=G("li"),P(l.$$.fragment),n=L(),this.h()},l(u){t=F(u,"LI",{class:!0});var m=x(t);w(l.$$.fragment,m),n=U(m),m.forEach(h),this.h()},h(){J(t,"class","my-1 w-4/5 max-w-sm"),this.first=t},m(u,m){$(u,t,m),S(l,t,null),R(t,n),f=!0},p(u,m){e=u;const g={};m[0]&12&&(g.onPressedChange=c),m[0]&12|m[1]&4&&(g.$$scope={dirty:m,ctx:e}),l.$set(g)},r(){i=t.getBoundingClientRect()},f(){Le(t),a(),Je(t,i)},a(){a(),a=Be(t,i,Ue,{duration:300})},i(u){f||(d(l.$$.fragment,u),u&&We(()=>{f&&(s&&s.end(1),r=Ye(t,ot,{key:e[26]}),r.start())}),f=!0)},o(u){_(l.$$.fragment,u),r&&r.invalidate(),u&&(s=rt(t,st,{key:e[26]})),f=!1},d(u){u&&h(t),N(l),u&&s&&s.end()}}}function ol(o){let e,t;return e=new Oe({props:{class:"absolute right-2 bg-opacity-75",$$slots:{default:[cs]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function cs(o){let e;return{c(){e=Q("host")},l(t){e=X(t,"host")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function us(o){let e=o[26]+"",t,l,n,r,s=o[2][o[26]].isHost&&ol(o);return{c(){t=Q(e),l=L(),s&&s.c(),n=oe()},l(i){t=X(i,e),l=U(i),s&&s.l(i),n=oe()},m(i,a){$(i,t,a),$(i,l,a),s&&s.m(i,a),$(i,n,a),r=!0},p(i,a){(!r||a[0]&512)&&e!==(e=i[26]+"")&&pe(t,e),i[2][i[26]].isHost?s?a[0]&516&&d(s,1):(s=ol(i),s.c(),d(s,1),s.m(n.parentNode,n)):s&&(ne(),_(s,1,1,()=>{s=null}),re())},i(i){r||(d(s),r=!0)},o(i){_(s),r=!1},d(i){i&&(h(t),h(l),h(n)),s&&s.d(i)}}}function il(o,e){let t,l,n,r,s,i,a=ce,f;function c(...u){return e[21](e[26],...u)}return l=new Qe({props:{class:"relative h-8 w-full",pressed:!1,onPressedChange:c,variant:"outline",$$slots:{default:[us]},$$scope:{ctx:e}}}),{key:o,first:null,c(){t=G("li"),P(l.$$.fragment),n=L(),this.h()},l(u){t=F(u,"LI",{class:!0});var m=x(t);w(l.$$.fragment,m),n=U(m),m.forEach(h),this.h()},h(){J(t,"class","my-1 w-4/5 max-w-sm"),this.first=t},m(u,m){$(u,t,m),S(l,t,null),R(t,n),f=!0},p(u,m){e=u;const g={};m[0]&516&&(g.onPressedChange=c),m[0]&516|m[1]&4&&(g.$$scope={dirty:m,ctx:e}),l.$set(g)},r(){i=t.getBoundingClientRect()},f(){Le(t),a(),Je(t,i)},a(){a(),a=Be(t,i,Ue,{duration:300})},i(u){f||(d(l.$$.fragment,u),u&&We(()=>{f&&(s&&s.end(1),r=Ye(t,ot,{key:e[26]}),r.start())}),f=!0)},o(u){_(l.$$.fragment,u),r&&r.invalidate(),u&&(s=rt(t,st,{key:e[26]})),f=!1},d(u){u&&h(t),N(l),u&&s&&s.end()}}}function ds(o){let e=o[26]+"",t,l;return{c(){t=Q(e),l=Q(":")},l(n){t=X(n,e),l=X(n,":")},m(n,r){$(n,t,r),$(n,l,r)},p(n,r){r[0]&16&&e!==(e=n[26]+"")&&pe(t,e)},d(n){n&&(h(t),h(l))}}}function al(o){let e,t,l,n,r,s,i;t=new Sl({props:{class:"w-16 capitalize",$$slots:{default:[ds]},$$scope:{ctx:o}}});function a(c){o[22](c,o[26])}let f={type:"number",class:"w-14",min:"0"};return o[4][o[26]]!==void 0&&(f.value=o[4][o[26]]),n=new Jl({props:f}),Me.push(()=>ut(n,"value",a)),{c(){e=G("div"),P(t.$$.fragment),l=L(),P(n.$$.fragment),s=L(),this.h()},l(c){e=F(c,"DIV",{class:!0});var u=x(e);w(t.$$.fragment,u),l=U(u),w(n.$$.fragment,u),s=U(u),u.forEach(h),this.h()},h(){J(e,"class","flex items-center gap-2")},m(c,u){$(c,e,u),S(t,e,null),R(e,l),S(n,e,null),R(e,s),i=!0},p(c,u){o=c;const m={};u[0]&16|u[1]&4&&(m.$$scope={dirty:u,ctx:o}),t.$set(m);const g={};!r&&u[0]&16&&(r=!0,g.value=o[4][o[26]],ct(()=>r=!1)),n.$set(g)},i(c){i||(d(t.$$.fragment,c),d(n.$$.fragment,c),i=!0)},o(c){_(t.$$.fragment,c),_(n.$$.fragment,c),i=!1},d(c){c&&h(e),N(t),N(n)}}}function ms(o){let e,t,l="Select Players:",n,r,s=[],i=new Map,a,f,c,u,m,g=o[3].length+"",b,v,k=o[3].length+o[9].length+"",I,y,ee,se,z,W=[],ae=new Map,Z,Y,A,p="Customize Roles:",te,C,B,D,K,O,_e=Object.values(o[4]).reduce(o[23],0)+"",ge,le,M=he(o[3]);const V=E=>E[26];for(let E=0;E<M.length;E+=1){let j=ll(o,M,E),H=V(j);i.set(H,s[E]=sl(H,j))}let T=null;M.length||(T=nl()),ee=new Ml({props:{class:"mb-4"}});let we=he(o[9]);const Ge=E=>E[26];for(let E=0;E<we.length;E+=1){let j=tl(o,we,E),H=Ge(j);ae.set(H,W[E]=il(H,j))}let Ee=he(Object.keys(o[4])),ie=[];for(let E=0;E<Ee.length;E+=1)ie[E]=al(el(o,Ee,E));const Xe=E=>_(ie[E],1,1,()=>{ie[E]=null});return{c(){e=G("div"),t=G("h2"),t.textContent=l,n=L(),r=G("ul");for(let E=0;E<s.length;E+=1)s[E].c();T&&T.c(),a=L(),f=G("div"),c=G("div"),u=Q("Selected: "),m=G("span"),b=Q(g),v=Q(" / "),I=Q(k),y=L(),P(ee.$$.fragment),se=L(),z=G("ul");for(let E=0;E<W.length;E+=1)W[E].c();Z=L(),Y=G("div"),A=G("h2"),A.textContent=p,te=L(),C=G("form");for(let E=0;E<ie.length;E+=1)ie[E].c();B=L(),D=G("div"),K=Q("Total: "),O=G("span"),ge=Q(_e),this.h()},l(E){e=F(E,"DIV",{});var j=x(e);t=F(j,"H2",{class:!0,"data-svelte-h":!0}),De(t)!=="svelte-18a97qg"&&(t.textContent=l),n=U(j),r=F(j,"UL",{class:!0});var H=x(r);for(let Ne=0;Ne<s.length;Ne+=1)s[Ne].l(H);T&&T.l(H),H.forEach(h),a=U(j),f=F(j,"DIV",{});var je=x(f);c=F(je,"DIV",{class:!0});var Fe=x(c);u=X(Fe,"Selected: "),m=F(Fe,"SPAN",{class:!0});var Ct=x(m);b=X(Ct,g),Ct.forEach(h),v=X(Fe," / "),I=X(Fe,k),Fe.forEach(h),y=U(je),w(ee.$$.fragment,je),je.forEach(h),se=U(j),z=F(j,"UL",{class:!0});var Pt=x(z);for(let Ne=0;Ne<W.length;Ne+=1)W[Ne].l(Pt);Pt.forEach(h),j.forEach(h),Z=U(E),Y=F(E,"DIV",{class:!0});var Ve=x(Y);A=F(Ve,"H2",{class:!0,"data-svelte-h":!0}),De(A)!=="svelte-hw6q10"&&(A.textContent=p),te=U(Ve),C=F(Ve,"FORM",{class:!0,action:!0});var wt=x(C);for(let Ne=0;Ne<ie.length;Ne+=1)ie[Ne].l(wt);wt.forEach(h),B=U(Ve),D=F(Ve,"DIV",{class:!0});var it=x(D);K=X(it,"Total: "),O=F(it,"SPAN",{class:!0});var St=x(O);ge=X(St,_e),St.forEach(h),it.forEach(h),Ve.forEach(h),this.h()},h(){J(t,"class","mb-4 font-semibold"),J(r,"class","flex flex-col items-center"),J(m,"class","text-md font-bold"),J(c,"class","ml-4 mt-4 text-xs text-muted-foreground"),J(z,"class","flex flex-col items-center"),J(A,"class","mb-4 font-semibold"),J(C,"class","grid grid-cols-2 space-y-1"),J(C,"action","javascript:void();"),J(O,"class","text-md font-bold"),J(D,"class","ml-4 mt-4 text-xs text-muted-foreground"),J(Y,"class","mt-6")},m(E,j){$(E,e,j),R(e,t),R(e,n),R(e,r);for(let H=0;H<s.length;H+=1)s[H]&&s[H].m(r,null);T&&T.m(r,null),R(e,a),R(e,f),R(f,c),R(c,u),R(c,m),R(m,b),R(c,v),R(c,I),R(f,y),S(ee,f,null),R(e,se),R(e,z);for(let H=0;H<W.length;H+=1)W[H]&&W[H].m(z,null);$(E,Z,j),$(E,Y,j),R(Y,A),R(Y,te),R(Y,C);for(let H=0;H<ie.length;H+=1)ie[H]&&ie[H].m(C,null);R(Y,B),R(Y,D),R(D,K),R(D,O),R(O,ge),le=!0},p(E,j){if(j[0]&12){M=he(E[3]),ne();for(let H=0;H<s.length;H+=1)s[H].r();s=He(s,j,V,1,E,M,i,r,qe,sl,null,ll);for(let H=0;H<s.length;H+=1)s[H].a();re(),!M.length&&T?T.p(E,j):M.length?T&&(T.d(1),T=null):(T=nl(),T.c(),T.m(r,null))}if((!le||j[0]&8)&&g!==(g=E[3].length+"")&&pe(b,g),(!le||j[0]&520)&&k!==(k=E[3].length+E[9].length+"")&&pe(I,k),j[0]&516){we=he(E[9]),ne();for(let H=0;H<W.length;H+=1)W[H].r();W=He(W,j,Ge,1,E,we,ae,z,qe,il,null,tl);for(let H=0;H<W.length;H+=1)W[H].a();re()}if(j[0]&16){Ee=he(Object.keys(E[4]));let H;for(H=0;H<Ee.length;H+=1){const je=el(E,Ee,H);ie[H]?(ie[H].p(je,j),d(ie[H],1)):(ie[H]=al(je),ie[H].c(),d(ie[H],1),ie[H].m(C,null))}for(ne(),H=Ee.length;H<ie.length;H+=1)Xe(H);re()}(!le||j[0]&16)&&_e!==(_e=Object.values(E[4]).reduce(E[23],0)+"")&&pe(ge,_e)},i(E){if(!le){for(let j=0;j<M.length;j+=1)d(s[j]);d(ee.$$.fragment,E);for(let j=0;j<we.length;j+=1)d(W[j]);for(let j=0;j<Ee.length;j+=1)d(ie[j]);le=!0}},o(E){for(let j=0;j<s.length;j+=1)_(s[j]);_(ee.$$.fragment,E);for(let j=0;j<W.length;j+=1)_(W[j]);ie=ie.filter(Boolean);for(let j=0;j<ie.length;j+=1)_(ie[j]);le=!1},d(E){E&&(h(e),h(Z),h(Y));for(let j=0;j<s.length;j+=1)s[j].d();T&&T.d(),N(ee);for(let j=0;j<W.length;j+=1)W[j].d();nt(ie,E)}}}function _s(o){let e;return{c(){e=Q("Start Game")},l(t){e=X(t,"Start Game")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function gs(o){let e;return{c(){e=Q("Exit Room")},l(t){e=X(t,"Exit Room")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function hs(o){let e,t,l,n;return e=new Re({props:{$$slots:{default:[_s]},$$scope:{ctx:o}}}),e.$on("click",o[14]),l=new Re({props:{variant:"outline",href:"./",$$slots:{default:[gs]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment),t=L(),P(l.$$.fragment)},l(r){w(e.$$.fragment,r),t=U(r),w(l.$$.fragment,r)},m(r,s){S(e,r,s),$(r,t,s),S(l,r,s),n=!0},p(r,s){const i={};s[1]&4&&(i.$$scope={dirty:s,ctx:r}),e.$set(i);const a={};s[1]&4&&(a.$$scope={dirty:s,ctx:r}),l.$set(a)},i(r){n||(d(e.$$.fragment,r),d(l.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),_(l.$$.fragment,r),n=!1},d(r){r&&h(t),N(e,r),N(l,r)}}}function ps(o){let e,t,l,n,r,s;return e=new $t({props:{$$slots:{default:[is]},$$scope:{ctx:o}}}),l=new bt({props:{$$slots:{default:[ms]},$$scope:{ctx:o}}}),r=new kt({props:{class:"flex justify-between",$$slots:{default:[hs]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment),t=L(),P(l.$$.fragment),n=L(),P(r.$$.fragment)},l(i){w(e.$$.fragment,i),t=U(i),w(l.$$.fragment,i),n=U(i),w(r.$$.fragment,i)},m(i,a){S(e,i,a),$(i,t,a),S(l,i,a),$(i,n,a),S(r,i,a),s=!0},p(i,a){const f={};a[1]&4&&(f.$$scope={dirty:a,ctx:i}),e.$set(f);const c={};a[0]&540|a[1]&4&&(c.$$scope={dirty:a,ctx:i}),l.$set(c);const u={};a[1]&4&&(u.$$scope={dirty:a,ctx:i}),r.$set(u)},i(i){s||(d(e.$$.fragment,i),d(l.$$.fragment,i),d(r.$$.fragment,i),s=!0)},o(i){_(e.$$.fragment,i),_(l.$$.fragment,i),_(r.$$.fragment,i),s=!1},d(i){i&&(h(t),h(n)),N(e,i),N(l,i),N(r,i)}}}function $s(o){let e,t,l,n;const r=[xr,Zr],s=[];function i(a,f){return a[5]=="preparation"?0:a[5]=="play"?1:-1}return~(e=i(o))&&(t=s[e]=r[e](o)),{c(){t&&t.c(),l=oe()},l(a){t&&t.l(a),l=oe()},m(a,f){~e&&s[e].m(a,f),$(a,l,f),n=!0},p(a,f){let c=e;e=i(a),e===c?~e&&s[e].p(a,f):(t&&(ne(),_(s[c],1,1,()=>{s[c]=null}),re()),~e?(t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),d(t,1),t.m(l.parentNode,l)):t=null)},i(a){n||(d(t),n=!0)},o(a){_(t),n=!1},d(a){a&&h(l),~e&&s[e].d(a)}}}function bs(o,e,t){let l,n,{channel:r}=e,{username:s}=e,i={},a=[],f=[],c={detective:1,doctor:1,mafia:1,prostitute:1,villager:1},u="preparation",m=[],g={},b="day",v={},k={killed:null,healed:null,protected:null},I={},y={},ee=!1,se;r.on("presence",{event:"sync"},()=>{const C=r.presenceState(),B={};let D=!1;for(let K in C)i[K]?B[K]=i[K]:(B[K]={...C[K][0],isSelected:!1},B[K].isHost&&D&&(se!=null&&Pe.dismiss(se),se=Pe.warning("Two or more hosts in this room.",{duration:Number.POSITIVE_INFINITY}))),D=B[K].isHost||D;t(2,i=B)}).on("broadcast",{event:"action"},({payload:C})=>{if(!m.every(B=>B!=C.key))switch(C.action){case"vote":t(19,y[C.key]=C.votedPlayer,y);break;case"kill":g[C.key]=="mafia"&&(k.killed=C.targetedPlayer);break;case"heal":g[C.key]=="doctor"&&(k.healed=C.targetedPlayer);break;case"protect":g[C.key]=="prostitute"&&(k.protected=C.targetedPlayer);break;case"confirm":n.some(B=>B==C.key)&&t(18,I[C.key]=!0,I)}});function z(){t(10,m=a);const C=Object.keys(c).reduce((B,D)=>B.concat(Array(parseInt(c[D])).fill(D)),[]);if(t(7,v={}),t(11,g={}),C.length!=m.length){Pe.error("Unequal number of selected players and roles set.");return}for(let B=C.length-1;B>0;B--){const D=Math.floor(Math.random()*(B+1));[C[B],C[D]]=[C[D],C[B]]}m.forEach((B,D)=>{t(11,g[B]=C[D],g),t(7,v[B]={isAlive:!0,isKilled:!1,isProtected:!1,isHealed:!1},v)}),r.send({type:"broadcast",event:"play",payload:{gameTime:b,finalizedPlayers:m,assignedRoles:g,gameState:v}}),t(6,b="day"),t(5,u="play"),t(8,ee=!1)}function W(C,B=!1){if(!B&&l<n.length){console.log("adsf"),Pe("All players have not confirmed. Do you still want to proceed?",{action:{label:"Proceed",onClick:()=>W(C,!0)}});return}if(t(18,I={}),b=="day"){Object.values(v).forEach(O=>{O.isHealed=!1,O.isProtected=!1,O.isKilled=!1});const D=n.reduce((O,_e)=>(O[_e]=0,O),{});Object.values(y).forEach(O=>{O&&D[O]++});const K=Math.max(...Object.values(D));if(K>0){const O=Object.keys(D).filter(ge=>D[ge]==K),_e=O[Math.floor(Math.random()*O.length)];t(7,v[_e].isAlive=!1,v)}t(19,y={}),t(6,b="night"),k={killed:null,healed:null,protected:null}}else if(b=="night"){console.log({assignedRoles:g,playersAlive:n,action:k});for(let D of n){if(g[D]=="mafia"&&!k.killed){Pe.message("Mafia has not played yet.");return}if(g[D]=="doctor"&&!k.healed){console.log("doctor"),Pe.message("Doctor has not played yet.");return}if(g[D]=="prostitute"&&!k.protected){Pe.message("Prostitute has not played yet."),console.log("prostitute");return}}k.killed&&(t(7,v[k.killed].isKilled=!0,v),t(7,v[k.killed].isAlive=k.killed==k.healed,v)),k.healed&&t(7,v[k.healed].isHealed=!0,v),k.protected&&t(7,v[k.protected].isProtected=!0,v),t(6,b="day"),t(19,y={})}r.send({type:"broadcast",event:"update",payload:{proceed:!0,gameTime:b,gameState:v}})}function ae(){t(8,ee=!0)}function Z(){t(5,u="preparation")}const Y=(C,B)=>{t(2,i[C].isSelected=B,i)},A=(C,B)=>{t(2,i[C].isSelected=B,i)};function p(C,B){o.$$.not_equal(c[B],C)&&(c[B]=C,t(4,c))}const te=(C,B)=>C+parseInt(B);return o.$$set=C=>{"channel"in C&&t(0,r=C.channel),"username"in C&&t(1,s=C.username)},o.$$.update=()=>{if(o.$$.dirty[0]&262144&&t(13,l=Object.values(I).reduce((C,B)=>C+B,0)),o.$$.dirty[0]&128&&t(12,n=Object.keys(v).filter(C=>v[C].isAlive)),o.$$.dirty[0]&4){const C=[],B=[];for(let D in i)i[D].isSelected?C.push(D):B.push(D);t(3,a=C),t(9,f=B)}o.$$.dirty[0]&57&&r.send({type:"broadcast",event:u,payload:{selectedPlayers:a,rolesCount:c}}),o.$$.dirty[0]&65&&r.send({type:"broadcast",event:"update",payload:{gameTime:b}}),o.$$.dirty[0]&524289&&r.send({type:"broadcast",event:"update",payload:{votes:y}}),o.$$.dirty[0]&257&&r.send({type:"broadcast",event:"update",payload:{gameEnded:ee}})},[r,s,i,a,c,u,b,v,ee,f,m,g,n,l,z,W,ae,Z,I,y,Y,A,p,te]}class ks extends de{constructor(e){super(),me(this,e,bs,$s,ue,{channel:0,username:1},null,[-1,-1])}}function fl(o,e,t){const l=o.slice();return l[12]=e[t],l}function cl(o,e,t){const l=o.slice();return l[12]=e[t],l}function ul(o,e,t){const l=o.slice();return l[12]=e[t],l}function vs(o){let e,t;return e=new zl({props:{finalizedPlayers:o[6],assignedRoles:o[7],username:o[1],channel:o[0],gameState:o[9],gameTime:o[8]}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n&64&&(r.finalizedPlayers=l[6]),n&128&&(r.assignedRoles=l[7]),n&2&&(r.username=l[1]),n&1&&(r.channel=l[0]),n&512&&(r.gameState=l[9]),n&256&&(r.gameTime=l[8]),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function ys(o){let e,t;return e=new pt({props:{class:"mx-auto max-w-sm",$$slots:{default:[Ms]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n&525356&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Cs(o){let e;return{c(){e=Q("Waiting for Host to start...")},l(t){e=X(t,"Waiting for Host to start...")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function Ps(o){let e;return{c(){e=Q("Settings set by host")},l(t){e=X(t,"Settings set by host")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function ws(o){let e,t,l,n;return e=new vt({props:{tag:"h1",$$slots:{default:[Cs]},$$scope:{ctx:o}}}),l=new yt({props:{$$slots:{default:[Ps]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment),t=L(),P(l.$$.fragment)},l(r){w(e.$$.fragment,r),t=U(r),w(l.$$.fragment,r)},m(r,s){S(e,r,s),$(r,t,s),S(l,r,s),n=!0},p(r,s){const i={};s&524288&&(i.$$scope={dirty:s,ctx:r}),e.$set(i);const a={};s&524288&&(a.$$scope={dirty:s,ctx:r}),l.$set(a)},i(r){n||(d(e.$$.fragment,r),d(l.$$.fragment,r),n=!0)},o(r){_(e.$$.fragment,r),_(l.$$.fragment,r),n=!1},d(r){r&&h(t),N(e,r),N(l,r)}}}function dl(o){let e,t="No Players Selected";return{c(){e=G("li"),e.textContent=t,this.h()},l(l){e=F(l,"LI",{class:!0,"data-svelte-h":!0}),De(e)!=="svelte-p012nz"&&(e.textContent=t),this.h()},h(){J(e,"class","text-center text-xs text-muted-foreground h-0")},m(l,n){$(l,e,n)},p:ce,d(l){l&&h(e)}}}function ml(o){let e,t;return e=new Oe({props:{class:"absolute right-2 bg-opacity-75",$$slots:{default:[Ss]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Ss(o){let e;return{c(){e=Q("host")},l(t){e=X(t,"host")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function Ns(o){let e=o[12]+"",t,l,n,r,s=o[2][o[12]].isHost&&ml(o);return{c(){t=Q(e),l=L(),s&&s.c(),n=oe()},l(i){t=X(i,e),l=U(i),s&&s.l(i),n=oe()},m(i,a){$(i,t,a),$(i,l,a),s&&s.m(i,a),$(i,n,a),r=!0},p(i,a){(!r||a&8)&&e!==(e=i[12]+"")&&pe(t,e),i[2][i[12]].isHost?s?a&12&&d(s,1):(s=ml(i),s.c(),d(s,1),s.m(n.parentNode,n)):s&&(ne(),_(s,1,1,()=>{s=null}),re())},i(i){r||(d(s),r=!0)},o(i){_(s),r=!1},d(i){i&&(h(t),h(l),h(n)),s&&s.d(i)}}}function _l(o,e){let t,l,n,r,s,i,a=ce,f;return l=new Qe({props:{class:"relative h-8 w-full disabled:opacity-100",disabled:!0,pressed:!0,$$slots:{default:[Ns]},$$scope:{ctx:e}}}),{key:o,first:null,c(){t=G("li"),P(l.$$.fragment),n=L(),this.h()},l(c){t=F(c,"LI",{class:!0});var u=x(t);w(l.$$.fragment,u),n=U(u),u.forEach(h),this.h()},h(){J(t,"class","my-1 w-4/5 max-w-sm"),this.first=t},m(c,u){$(c,t,u),S(l,t,null),R(t,n),f=!0},p(c,u){e=c;const m={};u&524300&&(m.$$scope={dirty:u,ctx:e}),l.$set(m)},r(){i=t.getBoundingClientRect()},f(){Le(t),a(),Je(t,i)},a(){a(),a=Be(t,i,Ue,{duration:300})},i(c){f||(d(l.$$.fragment,c),c&&We(()=>{f&&(s&&s.end(1),r=Ye(t,ot,{key:e[12]}),r.start())}),f=!0)},o(c){_(l.$$.fragment,c),r&&r.invalidate(),c&&(s=rt(t,st,{key:e[12]})),f=!1},d(c){c&&h(t),N(l),c&&s&&s.end()}}}function gl(o){let e,t;return e=new Oe({props:{class:"absolute right-2 bg-opacity-75",$$slots:{default:[Es]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Es(o){let e;return{c(){e=Q("host")},l(t){e=X(t,"host")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function Ts(o){let e=o[12]+"",t,l,n,r,s=o[2][o[12]].isHost&&gl(o);return{c(){t=Q(e),l=L(),s&&s.c(),n=oe()},l(i){t=X(i,e),l=U(i),s&&s.l(i),n=oe()},m(i,a){$(i,t,a),$(i,l,a),s&&s.m(i,a),$(i,n,a),r=!0},p(i,a){(!r||a&1024)&&e!==(e=i[12]+"")&&pe(t,e),i[2][i[12]].isHost?s?a&1028&&d(s,1):(s=gl(i),s.c(),d(s,1),s.m(n.parentNode,n)):s&&(ne(),_(s,1,1,()=>{s=null}),re())},i(i){r||(d(s),r=!0)},o(i){_(s),r=!1},d(i){i&&(h(t),h(l),h(n)),s&&s.d(i)}}}function hl(o,e){let t,l,n,r,s,i,a=ce,f;return l=new Qe({props:{class:"relative h-8 w-full disabled:opacity-100",disabled:!0,pressed:!1,variant:"outline",$$slots:{default:[Ts]},$$scope:{ctx:e}}}),{key:o,first:null,c(){t=G("li"),P(l.$$.fragment),n=L(),this.h()},l(c){t=F(c,"LI",{class:!0});var u=x(t);w(l.$$.fragment,u),n=U(u),u.forEach(h),this.h()},h(){J(t,"class","my-1 w-4/5 max-w-sm"),this.first=t},m(c,u){$(c,t,u),S(l,t,null),R(t,n),f=!0},p(c,u){e=c;const m={};u&525316&&(m.$$scope={dirty:u,ctx:e}),l.$set(m)},r(){i=t.getBoundingClientRect()},f(){Le(t),a(),Je(t,i)},a(){a(),a=Be(t,i,Ue,{duration:300})},i(c){f||(d(l.$$.fragment,c),c&&We(()=>{f&&(s&&s.end(1),r=Ye(t,ot,{key:e[12]}),r.start())}),f=!0)},o(c){_(l.$$.fragment,c),r&&r.invalidate(),c&&(s=rt(t,st,{key:e[12]})),f=!1},d(c){c&&h(t),N(l),c&&s&&s.end()}}}function pl(o){let e,t,l=o[12]+"",n,r,s,i,a=o[5][o[12]]+"",f,c;return{c(){e=G("div"),t=G("span"),n=Q(l),r=Q(":"),s=L(),i=G("span"),f=Q(a),c=L(),this.h()},l(u){e=F(u,"DIV",{class:!0});var m=x(e);t=F(m,"SPAN",{class:!0});var g=x(t);n=X(g,l),r=X(g,":"),g.forEach(h),s=U(m),i=F(m,"SPAN",{type:!0,class:!0});var b=x(i);f=X(b,a),b.forEach(h),c=U(m),m.forEach(h),this.h()},h(){J(t,"class","w-16 text-sm font-medium capitalize"),J(i,"type","number"),J(i,"class","w-14 rounded border p-2 text-center shadow-sm"),J(e,"class","flex items-center gap-4")},m(u,m){$(u,e,m),R(e,t),R(t,n),R(t,r),R(e,s),R(e,i),R(i,f),R(e,c)},p(u,m){m&32&&l!==(l=u[12]+"")&&pe(n,l),m&32&&a!==(a=u[5][u[12]]+"")&&pe(f,a)},d(u){u&&h(e)}}}function As(o){let e,t,l="Selected Players:",n,r,s=[],i=new Map,a,f,c,u,m=o[3].length+"",g,b,v=o[3].length+o[10].length+"",k,I,y,ee,se,z=[],W=new Map,ae,Z,Y,A="Customized Roles:",p,te,C,B=he(o[3]);const D=M=>M[12];for(let M=0;M<B.length;M+=1){let V=ul(o,B,M),T=D(V);i.set(T,s[M]=_l(T,V))}let K=null;B.length||(K=dl()),y=new Ml({props:{class:"mb-4"}});let O=he(o[10]);const _e=M=>M[12];for(let M=0;M<O.length;M+=1){let V=cl(o,O,M),T=_e(V);W.set(T,z[M]=hl(T,V))}let ge=he(Object.keys(o[5])),le=[];for(let M=0;M<ge.length;M+=1)le[M]=pl(fl(o,ge,M));return{c(){e=G("div"),t=G("h2"),t.textContent=l,n=L(),r=G("ul");for(let M=0;M<s.length;M+=1)s[M].c();K&&K.c(),a=L(),f=G("div"),c=Q("Selected: "),u=G("span"),g=Q(m),b=Q(" / "),k=Q(v),I=L(),P(y.$$.fragment),ee=L(),se=G("ul");for(let M=0;M<z.length;M+=1)z[M].c();ae=L(),Z=G("div"),Y=G("h2"),Y.textContent=A,p=L(),te=G("form");for(let M=0;M<le.length;M+=1)le[M].c();this.h()},l(M){e=F(M,"DIV",{});var V=x(e);t=F(V,"H2",{class:!0,"data-svelte-h":!0}),De(t)!=="svelte-1cclgdb"&&(t.textContent=l),n=U(V),r=F(V,"UL",{class:!0});var T=x(r);for(let E=0;E<s.length;E+=1)s[E].l(T);K&&K.l(T),T.forEach(h),a=U(V),f=F(V,"DIV",{class:!0});var we=x(f);c=X(we,"Selected: "),u=F(we,"SPAN",{class:!0});var Ge=x(u);g=X(Ge,m),Ge.forEach(h),b=X(we," / "),k=X(we,v),we.forEach(h),I=U(V),w(y.$$.fragment,V),ee=U(V),se=F(V,"UL",{class:!0});var Ee=x(se);for(let E=0;E<z.length;E+=1)z[E].l(Ee);Ee.forEach(h),V.forEach(h),ae=U(M),Z=F(M,"DIV",{class:!0});var ie=x(Z);Y=F(ie,"H2",{class:!0,"data-svelte-h":!0}),De(Y)!=="svelte-1p3v3z2"&&(Y.textContent=A),p=U(ie),te=F(ie,"FORM",{class:!0,action:!0});var Xe=x(te);for(let E=0;E<le.length;E+=1)le[E].l(Xe);Xe.forEach(h),ie.forEach(h),this.h()},h(){J(t,"class","mb-4 font-semibold"),J(r,"class","flex flex-col items-center"),J(u,"class","text-md font-bold"),J(f,"class","ml-4 mt-4 text-xs text-muted-foreground"),J(se,"class","flex flex-col items-center"),J(Y,"class","mb-4 font-semibold"),J(te,"class","grid grid-cols-2 space-y-1"),J(te,"action","javascript:void();"),J(Z,"class","mt-6")},m(M,V){$(M,e,V),R(e,t),R(e,n),R(e,r);for(let T=0;T<s.length;T+=1)s[T]&&s[T].m(r,null);K&&K.m(r,null),R(e,a),R(e,f),R(f,c),R(f,u),R(u,g),R(f,b),R(f,k),R(e,I),S(y,e,null),R(e,ee),R(e,se);for(let T=0;T<z.length;T+=1)z[T]&&z[T].m(se,null);$(M,ae,V),$(M,Z,V),R(Z,Y),R(Z,p),R(Z,te);for(let T=0;T<le.length;T+=1)le[T]&&le[T].m(te,null);C=!0},p(M,V){if(V&12){B=he(M[3]),ne();for(let T=0;T<s.length;T+=1)s[T].r();s=He(s,V,D,1,M,B,i,r,qe,_l,null,ul);for(let T=0;T<s.length;T+=1)s[T].a();re(),!B.length&&K?K.p(M,V):B.length?K&&(K.d(1),K=null):(K=dl(),K.c(),K.m(r,null))}if((!C||V&8)&&m!==(m=M[3].length+"")&&pe(g,m),(!C||V&1032)&&v!==(v=M[3].length+M[10].length+"")&&pe(k,v),V&1028){O=he(M[10]),ne();for(let T=0;T<z.length;T+=1)z[T].r();z=He(z,V,_e,1,M,O,W,se,qe,hl,null,cl);for(let T=0;T<z.length;T+=1)z[T].a();re()}if(V&32){ge=he(Object.keys(M[5]));let T;for(T=0;T<ge.length;T+=1){const we=fl(M,ge,T);le[T]?le[T].p(we,V):(le[T]=pl(we),le[T].c(),le[T].m(te,null))}for(;T<le.length;T+=1)le[T].d(1);le.length=ge.length}},i(M){if(!C){for(let V=0;V<B.length;V+=1)d(s[V]);d(y.$$.fragment,M);for(let V=0;V<O.length;V+=1)d(z[V]);C=!0}},o(M){for(let V=0;V<s.length;V+=1)_(s[V]);_(y.$$.fragment,M);for(let V=0;V<z.length;V+=1)_(z[V]);C=!1},d(M){M&&(h(e),h(ae),h(Z));for(let V=0;V<s.length;V+=1)s[V].d();K&&K.d(),N(y);for(let V=0;V<z.length;V+=1)z[V].d();nt(le,M)}}}function Is(o){let e;return{c(){e=Q("Exit Room")},l(t){e=X(t,"Exit Room")},m(t,l){$(t,e,l)},d(t){t&&h(e)}}}function Rs(o){let e,t;return e=new Re({props:{variant:"outline",href:"./",$$slots:{default:[Is]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n&524288&&(r.$$scope={dirty:n,ctx:l}),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Ms(o){let e,t,l,n,r,s;return e=new $t({props:{$$slots:{default:[ws]},$$scope:{ctx:o}}}),l=new bt({props:{$$slots:{default:[As]},$$scope:{ctx:o}}}),r=new kt({props:{class:"flex justify-between",$$slots:{default:[Rs]},$$scope:{ctx:o}}}),{c(){P(e.$$.fragment),t=L(),P(l.$$.fragment),n=L(),P(r.$$.fragment)},l(i){w(e.$$.fragment,i),t=U(i),w(l.$$.fragment,i),n=U(i),w(r.$$.fragment,i)},m(i,a){S(e,i,a),$(i,t,a),S(l,i,a),$(i,n,a),S(r,i,a),s=!0},p(i,a){const f={};a&524288&&(f.$$scope={dirty:a,ctx:i}),e.$set(f);const c={};a&525356&&(c.$$scope={dirty:a,ctx:i}),l.$set(c);const u={};a&524288&&(u.$$scope={dirty:a,ctx:i}),r.$set(u)},i(i){s||(d(e.$$.fragment,i),d(l.$$.fragment,i),d(r.$$.fragment,i),s=!0)},o(i){_(e.$$.fragment,i),_(l.$$.fragment,i),_(r.$$.fragment,i),s=!1},d(i){i&&(h(t),h(n)),N(e,i),N(l,i),N(r,i)}}}function zs(o){let e,t,l,n;const r=[ys,vs],s=[];function i(a,f){return a[4]=="preparation"?0:a[4]=="play"?1:-1}return~(e=i(o))&&(t=s[e]=r[e](o)),{c(){t&&t.c(),l=oe()},l(a){t&&t.l(a),l=oe()},m(a,f){~e&&s[e].m(a,f),$(a,l,f),n=!0},p(a,[f]){let c=e;e=i(a),e===c?~e&&s[e].p(a,f):(t&&(ne(),_(s[c],1,1,()=>{s[c]=null}),re()),~e?(t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),d(t,1),t.m(l.parentNode,l)):t=null)},i(a){n||(d(t),n=!0)},o(a){_(t),n=!1},d(a){a&&h(l),~e&&s[e].d(a)}}}function js(o,e,t){let l,{channel:n}=e,{username:r}=e,s="preparation",i={},a=[],f={mafia:1,detective:1,doctor:1,prostitute:1,villager:1},c=[],u={},m="Day",g={},b;return n.on("presence",{event:"sync"},()=>{const v=n.presenceState(),k={};let I=!1;for(let y in v)k[y]={...v[y][0]},i[y]||k[y].isHost&&I&&(b!=null&&Pe.dismiss(b),b=Pe.warning("Two or more hosts in this room.",{duration:Number.POSITIVE_INFINITY})),I=k[y].isHost||I;t(2,i=k),console.log({onlinePlayers:i,unselectedPlayers:l})}).on("broadcast",{event:"preparation"},({payload:v})=>{t(4,s="preparation"),v.selectedPlayers&&t(3,a=v.selectedPlayers),v.rolesCount&&t(5,f=v.rolesCount)}).on("broadcast",{event:"play"},({payload:v})=>{t(4,s="play"),v.finalizedPlayers&&t(6,c=v.finalizedPlayers),v.gameTime&&t(8,m=v.gameTime),v.gameState&&t(9,g=v.gameState),v.assignedRoles&&t(7,u=v.assignedRoles)}),o.$$set=v=>{"channel"in v&&t(0,n=v.channel),"username"in v&&t(1,r=v.username)},o.$$.update=()=>{o.$$.dirty&12&&t(10,l=Object.keys(i).filter(v=>!a.some(k=>k==v)))},[n,r,i,a,s,f,c,u,m,g,l]}class Os extends de{constructor(e){super(),me(this,e,js,zs,ue,{channel:0,username:1})}}function Vs(o){let e,t;return e=new Os({props:{channel:o[1],username:o[0].username}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n&1&&(r.username=l[0].username),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Ds(o){let e,t;return e=new ks({props:{channel:o[1],username:o[0].username}}),{c(){P(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,n){S(e,l,n),t=!0},p(l,n){const r={};n&1&&(r.username=l[0].username),e.$set(r)},i(l){t||(d(e.$$.fragment,l),t=!0)},o(l){_(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function Hs(o){let e,t,l,n;const r=[Ds,Vs],s=[];function i(a,f){return a[0].gameType=="host"?0:a[0].gameType=="join"?1:-1}return~(e=i(o))&&(t=s[e]=r[e](o)),{c(){t&&t.c(),l=oe()},l(a){t&&t.l(a),l=oe()},m(a,f){~e&&s[e].m(a,f),$(a,l,f),n=!0},p(a,[f]){let c=e;e=i(a),e===c?~e&&s[e].p(a,f):(t&&(ne(),_(s[c],1,1,()=>{s[c]=null}),re()),~e?(t=s[e],t?t.p(a,f):(t=s[e]=r[e](a),t.c()),d(t,1),t.m(l.parentNode,l)):t=null)},i(a){n||(d(t),n=!0)},o(a){_(t),n=!1},d(a){a&&h(l),~e&&s[e].d(a)}}}function qs(o,e,t){let{data:l}=e;const n=Tt.channel(l.gameId,{config:{broadcast:{self:l.gameType=="host"},presence:{key:l.username}}});return n.subscribe(r=>{if(r!="SUBSCRIBED")return null;n.track({user:l.username,isHost:l.gameType=="host"})}),Dl(()=>{Tt.removeChannel(n)}),o.$$set=r=>{"data"in r&&t(0,l=r.data)},[l,n]}class eo extends de{constructor(e){super(),me(this,e,qs,Hs,ue,{data:0})}}export{eo as component,xs as universal};
